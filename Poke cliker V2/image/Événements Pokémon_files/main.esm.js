var Kt=class{constructor(t){this.index=0;this.animating=!1;if(this.el=t,this.slideEls=Array.from(this.el.querySelectorAll(".slide")),this.slideEls.length<3){console.warn("carousel should have at least 3 slides");return}this.init()}init(){let t=this.el.querySelector(".prev");t&&t.addEventListener("click",()=>this.prev());let e=this.el.querySelector(".next");e&&e.addEventListener("click",()=>this.prev()),this.updateState()}prev(){this.animating||(this.index-=1,this.index<0&&(this.index+=this.slideEls.length),this.updateState())}next(){this.animating||(this.index+=1,this.index>=this.slideEls.length&&(this.index=0),this.updateState())}updateState(){this.animating=!0,this.activeEl&&this.activeEl.classList.add("after");let t=this.slideEls[this.index];t&&t.classList.add("active"),window.setTimeout(()=>{let e=(this.index+1)%this.slideEls.length,i=this.index-1;i<0&&(i+=this.slideEls.length),this.slideEls.forEach((s,n)=>{let r=n===this.index;s.setAttribute("aria-hidden",r?"false":"true")}),this.beforeEl&&this.beforeEl.classList.remove("before"),this.beforeEl=this.slideEls[e],this.beforeEl.classList.add("before"),this.beforeEl.classList.remove("after"),this.beforeEl.classList.remove("active"),this.activeEl&&this.activeEl.classList.remove("active"),this.activeEl=t,this.activeEl.classList.remove("before"),this.activeEl.classList.remove("after"),this.activeEl.classList.add("active"),this.afterEl&&this.afterEl.classList.remove("after"),this.afterEl=this.slideEls[i],this.afterEl.classList.add("after"),this.afterEl.classList.remove("before"),this.afterEl.classList.remove("active"),this.animating=!1},180)}};var Qt=class{constructor(t){this.el=t,this.initDates()}initDates(){let t=this.el.querySelectorAll(".upcomingevents__content__date"),e=(document.documentElement.lang||"en").replace("_","-");for(let i of Array.from(t)){let s=i.getAttribute("data-date"),n=this.parseDate(s),r=i.querySelector(".upcomingevents__content__date__month");r&&(r.textContent=n.toLocaleDateString(e,{month:"short"}));let a=i.querySelector(".upcomingevents__content__date__day");a&&(a.textContent=n.toLocaleDateString(e,{day:"numeric"}))}}parseDate(t){let e=t.split("-");return new Date(+e[0],+e[1]-1,+e[2])}};function Tt(o,t){let e=Object.prototype.toString.call(o).slice(8,-1).toLowerCase();return t===e}function Ge(o){return Tt(o,"array")}function Zt(o){return Tt(o,"string")}function C(o){return Tt(o,"number")}function St(o){return Tt(o,"null")}function $e(){return Q()||Z()}function Q(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||je()}function Z(){return/Android/i.test(navigator.userAgent)}function Ye(){return navigator.userAgent.indexOf("Chrome")!==-1&&!Jt()}function Lt(){return!Ye()&&navigator.userAgent.indexOf("Safari")!==-1&&!Jt()}function je(){return navigator.userAgent.toLowerCase().indexOf("macintosh")!==-1&&Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2}function Jt(){return navigator.userAgent.indexOf("Edge")!==-1}function At(){return navigator.userAgent.indexOf("Firefox")!==-1}function Xe(){return!!window.createImageBitmap&&!At()}function Mt(o){return Zt(o)&&o.startsWith("#")}function It(o){return Zt(o)&&o.startsWith("rgba(")}function Ct(o){return Zt(o)&&o.startsWith("rgb(")}function W(o){return o}function J(o){return Object.is(o,-0)?0:o}function _(o,t,e){return Math.min(Math.max(e,o),t)}function Ke(o,t,e,i=!1){let s=e-t,n=_(0,1,o-t);return i&&(n=o-t),n=n/s,i?n:tt(n)}function _t(o){return o*(Math.PI/180)}function V(o){return o*180/Math.PI}function Qe(o){return o.width/o.height}function Ze(o,t,e,i=!0){let s=Math.min(t,e),n=Math.max(t,e);return i?o>=s&&o<=n:o>s&&o<n}function tt(o){return _(0,1,J(o))}function ki(o){return tt(o)}function et(o){return tt(o)}function v(o,t,e){let i=et(e);return(1-i)*o+i*t}function Je(o,t,e,i=!1){return i?(e-o)/(t-o):et((e-o)/(t-o))}function ti(o,t,e,i,s){let n=ki(o/(e-t));return v(i,s,n)}function Oi(o,t,e,i=W){return e=i(e),v(o,t,e)}function Pt(o,t,e,i){return v(o,t,1-Math.exp(-e*i))}function x(o,t,e,i=W){return Oi(o,t,e,i)}function H(o,t,e){let i=e-t;return t+((o-t)%i+i)%i}function ei(o,t){let e=Qe(o),i=Qe(t),s,n,r;i>=e?(n=o.height,r=o.height/t.height,s=t.width*r):(s=o.width,r=o.width/t.width,n=t.height*r);let a=Math.max(s/t.width,n/t.height),l=J(-Math.round((o.height-n)/2)),h=J(-Math.round((o.width-s)/2));return{width:Math.round(s),height:Math.round(n),xOffset:h,yOffset:l,scalar:a}}function ii(o,t){let e=o.height/t.height,i=o.width/t.width;return Math.min(e,i)}function si(o){return o.reduce((t,e)=>t+e,0)}var N=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise((t,e)=>{this.resolve=i=>(this.complete=!0,t(i)),this.reject=i=>(this.complete=!0,e(i))})}getPromise(){return this.complete?new Promise(t=>{t()}):this.promise}};function D(){return Date.now()}function te(o,t){return t-o}function Rt(o,t,e){let i;return function(...s){let n=this,r=()=>{i=void 0,o.apply(n,s)},a=()=>{i=void 0};e||(clearTimeout(i),i=+setTimeout(r,t)),e&&i===void 0&&(o.apply(n,s),i=+setTimeout(a,t))}}function ni(o){let t=null,e=null;return(...i)=>{let s=JSON.stringify(i);if(s!==e)return e=s,t=o(...i)}}function oi(o,t){return Object.is(o,void 0)?t:o}function ri(o,t){let e=0,i=s=>{let n=window.innerWidth;(!$e()||e!==n)&&(o(s),e=n)};return window.addEventListener("resize",i,t),()=>{window.removeEventListener("resize",i)}}var p=class{constructor(){this.watcherConfigs=[]}add(t){Array.isArray(t.on)?t.on.forEach(i=>{let s=Object.assign({},t);s.on=i,this.addSingleEvent(s)}):this.addSingleEvent(t)}addSingleEvent(t){let e=i=>{t.runWhen?t.runWhen()&&t.callback(i):t.callback(i)};if(t.listener=e,t.on==="smartResize")t.remover=ri(e,t.eventOptions||{});else if(t.on==="resize"&&t.element!==window){let i=new ResizeObserver(s=>{e(s)});i.observe(t.element),t.remover=()=>{i.unobserve(t.element)}}else if(t.on==="mutation"){let i=new MutationObserver(s=>{e(s)});i.observe(t.element,t.eventOptions),t.remover=()=>{i.disconnect()}}else t.element instanceof MediaQueryList?(t.element.addEventListener(t.on,e,t.eventOptions||{}),t.remover=()=>{t.element.removeEventListener(t.on,e,t.eventOptions||{})}):(t.element.addEventListener(t.on,e,t.eventOptions||{}),t.remover=()=>{t.element.removeEventListener(t.on,e,t.eventOptions||{})});this.watcherConfigs.push(t)}removeById(t){this.watcherConfigs=this.watcherConfigs.filter(e=>{if(e.id&&e.id===t){let i=e.remover;return i&&i(),!1}return e})}removeAll(){this.watcherConfigs.forEach(t=>{let e=t.remover;e&&e()}),this.watcherConfigs=[]}run(t){this.watcherConfigs.filter(i=>i.id&&i.id===t).forEach(i=>{i.callback()&&i.callback()})}dispose(){this.removeAll()}};function ct(o,t,e){if(!o)throw new Error("You need specificy a valid element to apply a css variable");o.style.setProperty(t,String(e))}function ai(o,t){for(let e in t)o.style.setProperty(e,String(t[e]))}function ht(o,t,e){let i=new CustomEvent(t,{detail:e});o.dispatchEvent(i)}function li(o){return window.getComputedStyle(o)}function ci(o){return new Promise(t=>{let e=document.createElement("img");e.decoding="async",e.onload=()=>{e.onload=null,t(e)},e.src=URL.createObjectURL(o)})}function hi(o){return new Promise(t=>{let e=new FileReader;e.readAsDataURL(o),e.addEventListener("load",()=>{let i=document.createElement("img");i.src=e.result,i.onload=()=>{i.onload=null,t(i)}},{once:!0})})}function dt(o){o&&(o.src&&(o.src.startsWith("blob:")||o.src.startsWith("data:"))&&(URL.revokeObjectURL(o.src),o.src=""),o=null)}function di(o){return Array.from(o.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))}function ui(){return document.scrollingElement||document.documentElement}var ee=class{constructor(t){this.imageSources=t,this.images={},this.maxRetries=3,this.decodeAfterFetch=!1,this.onEachImageLoaded=null}setLoadCallback(t){this.onEachImageLoaded=t}getImages(){return this.images}setDecodeAfterFetch(t){this.decodeAfterFetch=At()?!1:t}load(){return new Promise(t=>{let e=this.imageSources.map(i=>this.fetchImage(i));Promise.all(e).then(()=>{t(this.images)})})}ping(){return new Promise(t=>{let e=this.imageSources.map(i=>this.pingSource(i));Promise.all(e).then(()=>{t(this.imageSources)})})}pingSource(t,e=0){return new Promise((i,s)=>{fetch(t).then(n=>{n.ok?i(t):(e++,e>=this.maxRetries?s(`failed after ${e} tries`):i(this.pingSource(t,e)))})})}fetchImage(t,e=0){return new Promise(i=>{fetch(t).then(s=>(s.ok||(e++,e>=this.maxRetries?i():this.fetchImage(t,e)),s.blob())).then(s=>{let n=s,r=document.createElement("img");this.decodeAfterFetch&&"decode"in r?(r.src=URL.createObjectURL(n),r.decoding="async",r.decode().then(()=>{this.images[t]=r,this.onEachImageLoaded&&this.onEachImageLoaded(t,r),i()}).catch(()=>{r.onload=()=>{this.images[t]=r,this.onEachImageLoaded&&this.onEachImageLoaded(t,r),i()},r.src=URL.createObjectURL(n)})):(r.onload=()=>{this.images[t]=r,this.onEachImageLoaded&&this.onEachImageLoaded(t,r),i()},r.src=URL.createObjectURL(n))})})}loadImageBitmaps(){return new Promise(t=>{let e=this.imageSources.map(i=>this.fetchImageBitmap(i));Promise.all(e).then(()=>{t(this.images)})})}fetchImageBitmap(t,e=0){return new Promise(i=>{fetch(t).then(s=>(s.ok||(e++,e>=this.maxRetries?i():this.fetchImageBitmap(t,e)),s.blob())).then(s=>createImageBitmap(s)).then(s=>{let n=s;this.images[t]=n,this.onEachImageLoaded&&this.onEachImageLoaded(t,n),i()})})}loadBitmapOrImage(){return Xe()?this.loadImageBitmaps():this.load()}dispose(){for(let t in this.images){if(!this.images[t])return;let e=this.images[t];e instanceof ImageBitmap?e.close():typeof e=="string"?URL.revokeObjectURL(e):e instanceof HTMLImageElement&&dt(e)}this.images={}}};var ie=class{constructor(t){this.loadedImages={};this.currentIndex=0;this.currentImage="";this.isLoading=!1;this.el=t,this.mainImage=this.el.querySelector(".TemplateGallery__gallery__main__image img"),this.thumbnails=Array.from(this.el.querySelectorAll(".TemplateGallery__gallery__thumb")),this.init()}init(){!this.mainImage||(this.currentImage=this.thumbnails[0].getAttribute("data-image-url"),this.thumbnails.forEach((t,e)=>{t.addEventListener("click",i=>{i.preventDefault(),this.setIndex(e)})}),window.addEventListener("resize",()=>this.onResize()))}onResize(){this.loadedImages={}}setIndex(t){if(t===this.currentIndex||this.isLoading)return;let i=this.thumbnails[t].getAttribute("data-image-url");this.loadImage(i),this.currentIndex=t,this.thumbnails.forEach((s,n)=>{s.classList.toggle("active",n===t)})}async loadImage(t){if(this.isLoading)return;let e=Math.ceil(this.mainImage.offsetWidth*(window.devicePixelRatio||1)),i=`${t}=w${e}`;if(!this.loadedImages[t]){this.isLoading=!0,this.el.classList.add("image-loading");let s=new ee([i]);s.setDecodeAfterFetch(!0),await s.load()}window.requestAnimationFrame(()=>{this.mainImage.src=i,this.isLoading=!1,this.el.classList.remove("image-loading")})}prev(){let t=this.currentIndex-1;t<0&&(t+=this.thumbnails.length),this.setIndex(t)}next(){let t=this.currentIndex+1;t>=this.thumbnails.length&&(t-=this.thumbnails.length),this.setIndex(t)}};var se=class{constructor(t){this.el=t,this.fetchPosts()}async fetchPosts(){let t=await window.fetch("/post/api/blog.list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({locale:document.documentElement.lang||"en"})});if(!t.ok)return;let i=(await t.json()).data.blogPosts;this.renderPosts(i)}renderPosts(t){let e=this.el.querySelector(".latestnews__posts");t.forEach(i=>{let s=this.createPost(i);e.appendChild(s)}),this.el.classList.add("ready")}createPost(t){let e=this.createDom("img",{src:t.fields.meta.image?.url,width:t.fields.meta.image?.width,height:t.fields.meta.image?.height,alt:t.fields.meta.image?.alt||""}),i=this.createDom("div",{class:"latestnews__post__image"},e),s=new Date(t.status.publishedAtTimestamp),n=(document.documentElement.lang||"en").replace("_","-"),r=s.toLocaleDateString([n,"en"],{month:"short",day:"numeric",year:"numeric"}),a=this.createDom("div",{class:"latestnews__post__content__date",text:r}),l=t.fields.meta.title,h=this.createDom("div",{class:"latestnews__post__content__title"});l.indexOf("<i>")!==-1?h.innerHTML=l:(h.textContent=l,h.setAttribute("data-component","MultilineEllipsis"));let d=this.createDom("div",{class:"latestnews__post__content"},a,h),c=t.url||`/post/${t.slug}?hl=${n}`;return this.createDom("a",{class:"latestnews__post",href:c,title:h.textContent||""},i,d)}createDom(t,e,...i){let s=document.createElement(t);if(e)for(let n in e)n==="text"?s.textContent=String(e[n]):s.setAttribute(n,String(e[n]));return i&&i.length>0&&i.forEach(n=>s.appendChild(n)),s}};var Hi="\u2026",Di=["ja","ko","th","zh_hant"],ne=class{constructor(t,e){this.domWatcher=new p;this.el=t;let i=this.el.getAttribute("data-component-options");i&&(e=JSON.parse(i)),this.maxLines=e?.maxLines||2,this.wordBreak=e?.wordBreak||"break-word",this.originalText=(this.el.textContent||"").trim(),this.el.setAttribute("title",this.originalText),this.domWatcher.add({id:"resize",element:window,on:"smartResize",callback:()=>this.clampLines(),eventOptions:{passive:!0}}),this.domWatcher.run("resize")}clampLines(){this.el.textContent="";let t=window.getComputedStyle(this.el).lineHeight,e=0;t&&t.endsWith("px")&&(e=window.parseInt(t)),this.el.style.maxHeight=e*this.maxLines+"px";let{words:i,delim:s}=this.splitWords(this.originalText),n=document.createElement("span");this.el.appendChild(n);let r=1;for(let a=0;a<i.length;a++){let l=i[a];if(n.textContent+=s+l,n.offsetHeight>e){if(r>=this.maxLines){if(n.style.display="inline-block",n.style.maxWidth="100%",n.style.whiteSpace="nowrap",this.wordBreak==="break-word"){let m=i.slice(a+1).join(s);n.textContent+=s+m,n.style.overflow="hidden",n.style.textOverflow="ellipsis"}else{let m=this.splitWords(n.textContent).words,g=m.slice(0,m.length-1).join(s);n.textContent=g+Hi}break}let h=this.splitWords(n.textContent).words,d=h.slice(0,h.length-1).join(s);n.textContent=d;let c=document.createElement("span");c.textContent=l,this.el.appendChild(document.createTextNode(" ")),this.el.appendChild(c),n=c,r+=1}}}splitWords(t){if(!this.isApacLocale())return{words:t.split(" "),delim:" "};let e=[],i=0,s=1;for(;s<t.length;){if(t[s].match(/[\wé]/)){s+=1;continue}let a=t.slice(i,s);e.push(a),i=s,s+=1}let n=t.slice(i,s);return e.push(n),{words:e,delim:""}}getLocale(){return document.documentElement.lang.toLowerCase()}isApacLocale(){return Di.includes(this.getLocale())}dispose(){this.domWatcher.dispose(),this.el.textContent=this.originalText}};var oe=class{static inview(t,e={},i){let s=null,n=null,r=null,a=!1,l=new N,h=()=>({changes:s,lastChange:n,inview:r,ready:a}),d=b=>{b.length>=1&&(s=b,n=b.slice(-1)[0],r=n.isIntersecting,a=!0,l.resolve()),i&&i(t,b.slice(-1)[0],m)},c=window.location.search.split("evBypass=")[1];if(c=c&&c.split("&")[0],c==="true")return window.setTimeout(()=>{i&&i(t,{isIntersecting:!0,isVisible:!0},()=>{}),l.resolve()}),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:l.getPromise()};let m=()=>{g&&g.unobserve(t),g&&g.disconnect(),s=[],n=null},g=new IntersectionObserver(d,e);return g.observe(t),{observer:g,dispose:m,state:h,readyPromise:l.getPromise()}}};var E=class{constructor(t){this.isReadWriteOnly=!1,this.callbacks=[],this.isDisposed=!1,this.raf_=null,this.frame=null,this.lastUpdateTime=0,this.fps=0,this.currentFps=0,this.isPlaying=!1,this.isRunningRaf=!1,this.callbacks=[],this.runCondition=null,this.delta=0,this.elaspedTime=0,this.startTime=0,t?this.watch(t):this.isReadWriteOnly=!0,window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.register(this)}watch(t){this.callbacks.push(t)}setReadWriteMode(t){this.isReadWriteOnly=t}preRead(t){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimePreRead({callback:t,raf:this})}read(t){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeRead({callback:t,raf:this})}waitRead(){return new Promise(t=>{window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeRead({callback:()=>{t()},raf:this})})}write(t){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeWrite({callback:t,raf:this})}waitWrite(){return new Promise(t=>{window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeWrite({callback:()=>{t()},raf:this})})}postWrite(t){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimePostWrite({callback:t,raf:this})}unwatch(t){this.callbacks=this.callbacks.filter(e=>e===t)}runWhen(t){this.runCondition=t}runWhenElementIsInview(t,e){return this.ev&&this.ev.dispose(),this.runCondition=null,this.ev=oe.inview(t,e||{}),this.runWhen(()=>this.ev&&this.ev.state().inview),this.ev.readyPromise}setFps(t){this.fps=t}start(t=!1){!t&&this.isPlaying||(this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.animationLoop_(),this.isPlaying=!0)}stop(){this.isPlaying=!1,window.cancelAnimationFrame(this.raf_),this.isRunningRaf=!1}dispose(){this.ev&&this.ev.dispose(),this.callbacks=[],this.isDisposed=!0,this.stop(),window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.unregister(this)}getDelta(t){return t?this.delta/1e3:this.delta}getElapsedTime(){return this.elaspedTime}getStartTime(){return this.startTime}getCurrentFps(){return this.currentFps}animationLoop_(){if(!this.isRunningRaf){if(this.raf_=window.requestAnimationFrame(t=>{this.frame=t,this.isRunningRaf=!1,this.animationLoop_()}),this.isRunningRaf=!0,this.lastUpdateTime){let e=Date.now()-this.lastUpdateTime;this.delta=e,this.elaspedTime+=e/1e3;let i=this.fps===0?0:1e3/this.fps;this.currentFps=1e3/e,e>i&&(this.callbacks&&this.callbacks.forEach(s=>{let n=()=>{s(this.frame,this.lastUpdateTime,e,()=>{this.stop()})};this.runCondition?this.runCondition()&&n():n()}),this.lastUpdateTime=Date.now())}this.lastUpdateTime||(this.lastUpdateTime=Date.now())}}},G=class{constructor(){this.flushScheduled=!1,this.preReads=[],this.reads=[],this.writes=[],this.postWrites=[],this.rafs=[]}static runRafCallbacks(t){for(;t.length;){let e=t.splice(0,1)[0];!e.raf.isDisposed&&(e.raf.isPlaying||e.raf.isReadWriteOnly)&&e.callback()}}start(){this.flushScheduled||(this.flushScheduled=!0,requestAnimationFrame(()=>{this.runRaf()}))}runRaf(){window.DEGU_RAF_REGISTRY_DEBUG&&console.log("Running raf",this.reads.length,this.writes.length),G.runRafCallbacks(this.preReads),G.runRafCallbacks(this.reads),G.runRafCallbacks(this.writes),G.runRafCallbacks(this.postWrites),this.flushScheduled=!1,(this.preReads.length||this.reads.length||this.writes.length||this.postWrites.length)&&this.start()}addOneTimePreRead(t){this.preReads.push(t),this.start()}addOneTimeRead(t){this.reads.push(t),this.start()}addOneTimeWrite(t){this.writes.push(t),this.start()}addOneTimePostWrite(t){this.postWrites.push(t),this.start()}getActiveRafCount(){return this.rafs.filter(t=>t.isPlaying).length}getRafCount(){return this.rafs.length}register(t){this.rafs.push(t)}unregister(t){this.rafs=this.rafs.filter(e=>e===t)}};window&&!window.DEGU_RAF_REGISTRY&&(window.DEGU_RAF_REGISTRY=new G);var ut=class{constructor(){this.host=""}async fetch(t,e){let i={"Content-Type":"application/json"},s=`${this.host}/post/api/${t}`,n=await window.fetch(s,{method:"POST",headers:i,body:JSON.stringify(e)});if(n.status!==200)throw console.error(`${t} failed: `,n),new Error(await n.json());return n.json()}};var Bi=new WeakMap;var $=o=>typeof o=="function"&&Bi.has(o);var re=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0;var mt=(o,t,e=null)=>{for(;t!==e;){let i=t.nextSibling;o.removeChild(t),t=i}};var y={},kt={};var P=`{{lit-${String(Math.random()).slice(2)}}}`,ae=`<!--${P}-->`,mi=new RegExp(`${P}|${ae}`),it="$lit$",Ot=class{constructor(t,e){this.parts=[],this.element=e;let i=[],s=[],n=document.createTreeWalker(e.content,133,null,!1),r=0,a=-1,l=0,{strings:h,values:{length:d}}=t;for(;l<d;){let c=n.nextNode();if(c===null){n.currentNode=s.pop();continue}if(a++,c.nodeType===1){if(c.hasAttributes()){let m=c.attributes,{length:g}=m,b=0;for(let S=0;S<g;S++)fi(m[S].name,it)&&b++;for(;b-- >0;){let S=h[l],X=Ht.exec(S)[2],K=X.toLowerCase()+it,q=c.getAttribute(K);c.removeAttribute(K);let O=q.split(mi);this.parts.push({type:"attribute",index:a,name:X,strings:O}),l+=O.length-1}}c.tagName==="TEMPLATE"&&(s.push(c),n.currentNode=c.content)}else if(c.nodeType===3){let m=c.data;if(m.indexOf(P)>=0){let g=c.parentNode,b=m.split(mi),S=b.length-1;for(let X=0;X<S;X++){let K,q=b[X];if(q==="")K=R();else{let O=Ht.exec(q);O!==null&&fi(O[2],it)&&(q=q.slice(0,O.index)+O[1]+O[2].slice(0,-it.length)+O[3]),K=document.createTextNode(q)}g.insertBefore(K,c),this.parts.push({type:"node",index:++a})}b[S]===""?(g.insertBefore(R(),c),i.push(c)):c.data=b[S],l+=S}}else if(c.nodeType===8)if(c.data===P){let m=c.parentNode;(c.previousSibling===null||a===r)&&(a++,m.insertBefore(R(),c)),r=a,this.parts.push({type:"node",index:a}),c.nextSibling===null?c.data="":(i.push(c),a--),l++}else{let m=-1;for(;(m=c.data.indexOf(P,m+1))!==-1;)this.parts.push({type:"node",index:-1}),l++}}for(let c of i)c.parentNode.removeChild(c)}},fi=(o,t)=>{let e=o.length-t.length;return e>=0&&o.slice(e)===t},le=o=>o.index!==-1,R=()=>document.createComment(""),Ht=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;var ft=class{constructor(t,e,i){this.__parts=[],this.template=t,this.processor=e,this.options=i}update(t){let e=0;for(let i of this.__parts)i!==void 0&&i.setValue(t[e]),e++;for(let i of this.__parts)i!==void 0&&i.commit()}_clone(){let t=re?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],i=this.template.parts,s=document.createTreeWalker(t,133,null,!1),n=0,r=0,a,l=s.nextNode();for(;n<i.length;){if(a=i[n],!le(a)){this.__parts.push(void 0),n++;continue}for(;r<a.index;)r++,l.nodeName==="TEMPLATE"&&(e.push(l),s.currentNode=l.content),(l=s.nextNode())===null&&(s.currentNode=e.pop(),l=s.nextNode());if(a.type==="node"){let h=this.processor.handleTextExpression(this.options);h.insertAfterNode(l.previousSibling),this.__parts.push(h)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,a.name,a.strings,this.options));n++}return re&&(document.adoptNode(t),customElements.upgrade(t)),t}};var pi=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:o=>o}),Ni=` ${P} `,st=class{constructor(t,e,i,s){this.strings=t,this.values=e,this.type=i,this.processor=s}getHTML(){let t=this.strings.length-1,e="",i=!1;for(let s=0;s<t;s++){let n=this.strings[s],r=n.lastIndexOf("<!--");i=(r>-1||i)&&n.indexOf("-->",r+1)===-1;let a=Ht.exec(n);a===null?e+=n+(i?Ni:ae):e+=n.substr(0,a.index)+a[1]+a[2]+it+a[3]+P}return e+=this.strings[t],e}getTemplateElement(){let t=document.createElement("template"),e=this.getHTML();return pi!==void 0&&(e=pi.createHTML(e)),t.innerHTML=e,t}};var Dt=o=>o===null||!(typeof o=="object"||typeof o=="function"),Bt=o=>Array.isArray(o)||!!(o&&o[Symbol.iterator]),pt=class{constructor(t,e,i){this.dirty=!0,this.element=t,this.name=e,this.strings=i,this.parts=[];for(let s=0;s<i.length-1;s++)this.parts[s]=this._createPart()}_createPart(){return new Wt(this)}_getValue(){let t=this.strings,e=t.length-1,i=this.parts;if(e===1&&t[0]===""&&t[1]===""){let n=i[0].value;if(typeof n=="symbol")return String(n);if(typeof n=="string"||!Bt(n))return n}let s="";for(let n=0;n<e;n++){s+=t[n];let r=i[n];if(r!==void 0){let a=r.value;if(Dt(a)||!Bt(a))s+=typeof a=="string"?a:String(a);else for(let l of a)s+=typeof l=="string"?l:String(l)}}return s+=t[e],s}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}},Wt=class{constructor(t){this.value=void 0,this.committer=t}setValue(t){t!==y&&(!Dt(t)||t!==this.value)&&(this.value=t,$(t)||(this.committer.dirty=!0))}commit(){for(;$(this.value);){let t=this.value;this.value=y,t(this)}this.value!==y&&this.committer.commit()}},F=class{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(R()),this.endNode=t.appendChild(R())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=R()),t.__insert(this.endNode=R())}insertAfterPart(t){t.__insert(this.startNode=R()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(this.startNode.parentNode===null)return;for(;$(this.__pendingValue);){let e=this.__pendingValue;this.__pendingValue=y,e(this)}let t=this.__pendingValue;t!==y&&(Dt(t)?t!==this.value&&this.__commitText(t):t instanceof st?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):Bt(t)?this.__commitIterable(t):t===kt?(this.value=kt,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){let e=this.startNode.nextSibling;t=t??"";let i=typeof t=="string"?t:String(t);e===this.endNode.previousSibling&&e.nodeType===3?e.data=i:this.__commitNode(document.createTextNode(i)),this.value=t}__commitTemplateResult(t){let e=this.options.templateFactory(t);if(this.value instanceof ft&&this.value.template===e)this.value.update(t.values);else{let i=new ft(e,t.processor,this.options),s=i._clone();i.update(t.values),this.__commitNode(s),this.value=i}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());let e=this.value,i=0,s;for(let n of t)s=e[i],s===void 0&&(s=new F(this.options),e.push(s),i===0?s.appendIntoPart(this):s.insertAfterPart(e[i-1])),s.setValue(n),s.commit(),i++;i<e.length&&(e.length=i,this.clear(s&&s.endNode))}clear(t=this.startNode){mt(this.startNode.parentNode,t.nextSibling,this.endNode)}},Nt=class{constructor(t,e,i){if(this.value=void 0,this.__pendingValue=void 0,i.length!==2||i[0]!==""||i[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=i}setValue(t){this.__pendingValue=t}commit(){for(;$(this.__pendingValue);){let e=this.__pendingValue;this.__pendingValue=y,e(this)}if(this.__pendingValue===y)return;let t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=y}},Ft=class extends pt{constructor(t,e,i){super(t,e,i);this.single=i.length===2&&i[0]===""&&i[1]===""}_createPart(){return new ce(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}},ce=class extends Wt{},gi=!1;(()=>{try{let o={get capture(){return gi=!0,!1}};window.addEventListener("test",o,o),window.removeEventListener("test",o,o)}catch(o){}})();var zt=class{constructor(t,e,i){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=i,this.__boundHandleEvent=s=>this.handleEvent(s)}setValue(t){this.__pendingValue=t}commit(){for(;$(this.__pendingValue);){let n=this.__pendingValue;this.__pendingValue=y,n(this)}if(this.__pendingValue===y)return;let t=this.__pendingValue,e=this.value,i=t==null||e!=null&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),s=t!=null&&(e==null||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),s&&(this.__options=Fi(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=y}handleEvent(t){typeof this.value=="function"?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}},Fi=o=>o&&(gi?{capture:o.capture,passive:o.passive,once:o.once}:o.capture);var he=class{handleAttributeExpressions(t,e,i,s){let n=e[0];return n==="."?new Ft(t,e.slice(1),i).parts:n==="@"?[new zt(t,e.slice(1),s.eventContext)]:n==="?"?[new Nt(t,e.slice(1),i)]:new pt(t,e,i).parts}handleTextExpression(t){return new F(t)}},de=new he;function ue(o){let t=me.get(o.type);t===void 0&&(t={stringsArray:new WeakMap,keyString:new Map},me.set(o.type,t));let e=t.stringsArray.get(o.strings);if(e!==void 0)return e;let i=o.strings.join(P);return e=t.keyString.get(i),e===void 0&&(e=new Ot(o,o.getTemplateElement()),t.keyString.set(i,e)),t.stringsArray.set(o.strings,e),e}var me=new Map;var fe=new WeakMap,gt=(o,t,e)=>{let i=fe.get(t);i===void 0&&(mt(t,t.firstChild),fe.set(t,i=new F(Object.assign({templateFactory:ue},e))),i.appendInto(t)),i.setValue(o),i.commit()};typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");var bt=(o,...t)=>new st(o,t,"html",de);var pe=class{constructor(t){this.lastScrollY=window.scrollY;this.currentScrollY=window.scrollY;this.navmenuOpen=!1;this.localeToggleOpen=!1;this.rpc=new ut;this.domWatcher=new p;this.onKey=t=>{t.key==="Escape"&&(this.toggleNavMenu(!1),this.toggleLocaleMenu(!1))};this.el=t,this.el.classList.toggle("top",this.currentScrollY===0),this.raf=new E(()=>{this.raf.read(()=>{this.currentScrollY=window.scrollY}),this.raf.write(()=>{this.el.classList.toggle("top",this.currentScrollY===0);let i=this.currentScrollY-this.lastScrollY;Math.abs(i)<20||(this.el.classList.toggle("down",i>0),this.el.classList.toggle("up",i<0),this.lastScrollY=this.currentScrollY)})}),this.raf.runWhen(()=>document.visibilityState==="visible"),this.raf.setFps(30),this.raf.start();let e=this.el.querySelectorAll(".navbar__navMenu button");for(let i=0;i<e.length;i++)e[i].addEventListener("click",()=>this.toggleNavMenu());this.locale=document.documentElement.lang.replace("-","_"),this.localeToggle=this.el.querySelector(".navbar__localeToggle"),this.initLocaleToggle(),window.addEventListener("keydown",this.onKey),this.el.querySelector(".promoBanner")||this.fetchPromos(),this.domWatcher.add({element:window,on:"smartResize",callback:Rt(()=>this.updateNavbarHeight(),100)}),this.updateNavbarHeight()}initLocaleToggle(){let t=this.localeToggle.querySelector(".navbar__localeToggle__locales");if(!!t?.children.length){t.setAttribute("role","listbox");for(let e=0;e<t.children.length;e++){let i=t.children[e];i.setAttribute("role","option"),i.setAttribute("aria-selected","false")}this.localeToggle.addEventListener("click",()=>{this.toggleLocaleMenu()})}}isPromoBannerEnabled(){let t=document.querySelector(".LayoutModules");return!(t&&(t.getAttribute("data-page")||"").startsWith("gofest-2022"))}toggleLocaleMenu(t){if(typeof t=="undefined"&&(t=!this.localeToggleOpen),this.localeToggleOpen=t,this.el.classList.toggle("navbar--localeToggleOpen",this.localeToggleOpen),t){let e=this.localeToggle.querySelector(".navbar__localeToggle__locales");if(e){let i=di(e);i.length>0&&i[0].focus()}window.setTimeout(()=>{document.body.addEventListener("click",()=>this.toggleLocaleMenu(!1),{once:!0})})}}toggleNavMenu(t){typeof t=="undefined"&&(t=!this.navmenuOpen),this.navmenuOpen=t,this.el.classList.toggle("navbar--navMenuOpen",this.navmenuOpen),document.body.classList.toggle("navMenuOpen",this.navmenuOpen)}async fetchPromos(){let t=await this.rpc.fetch("promos.get",{locale:this.locale});if(!t.data?.promo)return;let e=t.data.promo;if(this.isUrlOfCurrentPage(e.button_url)||sessionStorage.getItem(this.getDismissPromoStorageId(e.id))==="true")return;let i=document.createElement("div");i.className="navbar__promoBanner",this.el.appendChild(i);let s=this.renderPromo(e);gt(s,i),document.body.classList.add("promoBannerVisible");let n=i.firstElementChild;e.style?.background_color&&ct(n,"--backgroundColor",e.style.background_color),e.style?.text_color&&ct(n,"--textColor",e.style.text_color),this.updateNavbarHeight()}renderPromo(t){let e={handleEvent:()=>this.dismissPromo(t)},i=[];t.image&&i.push(bt`
        <div class="promoBanner__image">
          <img src="${t.image.url}" alt="${t.image.alt_text}" width="${t.image.width}" height="${t.image.height}" />
        </div>
      `);let s=t.analytics?.category||"PromoBanner",n=t.analytics?.action||"Click",r=t.analytics?.label||t.button_url,a=t.button_url;if(this.isRelativeUrl(a))if(!a.includes("?"))a=`${a}?hl=${this.locale}`;else{let l=new URL(a,window.location.href);l.searchParams.set("hl",this.locale),a=l.toString()}return bt`
      <div class="promoBanner">
        ${i}
        <div class="promoBanner__body">${t.body}</div>
        <div class="promoBanner__button">
          <a class="button" role="button" href="${a}" aria-label="${t.button_label}: ${t.body}">
            <span class="button__label">${t.button_label}</span>
          </a>
        </div>
        <button class="promoBanner__x" aria-label="Close" @click=${e} data-ga-on="click" data-ga-event-category="${s}" data-ga-event-action="${n}" data-ga-event-label="${r}">✕</button>
      </div>
    `}isRelativeUrl(t){return t.startsWith("/")||t.startsWith("https://pokemongolive.com/")}dismissPromo(t){sessionStorage.setItem(this.getDismissPromoStorageId(t.id),"true"),this.el.classList.add("dismissPromo"),document.body.classList.remove("promoBannerVisible"),this.updateNavbarHeight()}getDismissPromoStorageId(t){return`promo::${t}::dismissed`}isUrlOfCurrentPage(t){if(!t)return!1;let e=new URL(t,location.href);return e.host&&e.host!==window.location.host?!1:window.location.pathname===e.pathname||window.location.pathname===`/${this.locale}${e.pathname}`}updateNavbarHeight(){let t=Math.floor(this.el.getBoundingClientRect().height);document.body.style.setProperty("--navbar-height",`${t}px`)}dispose(){this.raf.stop(),this.raf.dispose(),this.el.classList.remove("top"),this.el.classList.remove("up"),this.el.classList.remove("down"),window.removeEventListener("keydown",this.onKey)}};function ge(o,...t){let e=null,i=Number.NEGATIVE_INFINITY,s=t[0];return o.forEach(n=>{let r=s(n);if(i<r)e=n,i=r;else if(i===r&&t.length>1){let a=1,l=t[a];for(;a<t.length&&l(e)===l(n);)l=t[a++];l(e)<l(n)&&(e=n)}}),e}function Ut(o,...t){return ge(o,...t.map(e=>i=>-1*e(i)))}function bi(o,t,e,i=1){let s=[],n=o.length,r=Math.sign(i),a=H(e,0,n),l=H(t,0,n);for(;l!==a;)s.push(o[l]),l=H(l+r,0,n);return s}function xi(...o){let t=new Set;return o.forEach(e=>{e.forEach(i=>{t.add(i)})}),t}var u=class{constructor(t=0,e=0,i=0,s=0){this.x=t||0,this.y=e||0,this.z=i||0,this.w=s||0}clone(){return new u(this.x,this.y,this.z)}static clone(t){return new u(t.x,t.y,t.z)}set(t,e,i=0){return this.x=t,this.y=e,this.z=i,this}floor(){return this.x=~~this.x,this.y=~~this.y,this.z=~~this.z,this}int(){return this.x=this.x>>0,this.y=this.y>>0,this.z=this.z>>0,this}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z}toArray(){return[this.x,this.y,this.z]}static toArray(t){return[t.x,t.y,t.z]}static fromArray(t){return new u(t[0],t[1],t[2])}static create(t,e,i=0){return new u(t,e,i)}static fromAngle(t,e=1e5){return new u(e*Math.cos(t),e*Math.sin(t),0)}static angle2d(t,e){let i=t.x-e.x,s=t.y-e.y;return Math.atan2(s,i)}static getXyzRotationTo(t,e){let i=t.clone().subtract(e),s=Math.atan(i.x),n=Math.atan(i.y),r=Math.atan(i.z);return[s,n,r]}static getEularRotationTo(t,e){let i=t.clone().normalize().subtract(e.clone().normalize()),s=-Math.atan(i.x),n=Math.atan(i.y),r=-Math.atan(i.z);return new u(V(s),V(n),V(r))}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this}static add(t,e){let i=t.x+e.x,s=t.y+e.y,n=t.z+e.z;return new u(i,s,n)}subtract(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this}static subtract(t,e){let i=t.x-e.x,s=t.y-e.y,n=t.z-e.z;return new u(i,s,n)}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this}scale(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):u.ZERO}negate(){return this.x=-this.x,this.y=-this.y,this.z=J(-this.z),this}static negate(t){let e=-t.x,i=-t.y,s=J(-t.z);return new u(e,i,s)}distance(t){let e=t.x-this.x,i=t.y-this.y,s=t.z-this.z||0;return Math.sqrt(e*e+i*i+s*s)}length(){let t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}magnitude(){return this.length()}normalize(){let t=this.x,e=this.y,i=this.z,s=t*t+e*e+i*i;return s>0&&(s=1/Math.sqrt(s),this.x=t*s,this.y=e*s,this.z=i*s),this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}cross(t){let e=this.x,i=this.y,s=this.z,n=t.x,r=t.y,a=t.z;return this.x=i*a-s*r,this.y=s*n-e*a,this.z=e*r-i*n,this}transformWithMatrixIV(t){let e=this.x,i=this.y,s=this.z,n=t.value,r=e*n[0]+i*n[4]+s*n[8]+n[12],a=e*n[1]+i*n[5]+s*n[9]+n[13],l=e*n[2]+i*n[6]+s*n[10]+n[14],h=e*n[3]+i*n[7]+s*n[11]+n[15];return h=h||1,this.x=r/h,this.y=a/h,this.z=l/h,new u(this.x,this.y,this.z)}transformWithMatrixIVTo2d(t){return this.transformWithMatrixIV(t).set(this.x,this.y,0)}lerp(t,e=0){return this.x=v(this.x,t.x,e),this.y=v(this.y,t.y,e),this.z=v(this.z,t.z,e),this}damp(t,e=0,i){return this.x=Pt(this.x,t.x,e,i),this.y=Pt(this.y,t.y,e,i),this.z=Pt(this.z,t.z,e,i),this}ease(t,e=0,i=W){return this.x=x(this.x,t.x,e,i),this.y=x(this.y,t.y,e,i),this.z=x(this.z,t.z,e,i),this}static ease(t,e,i=0,s=W){let n=x(t.x,e.x,i,s),r=x(t.y,e.y,i,s),a=x(t.z,e.z,i,s);return new u(n,r,a)}static min(t,e){return new u(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.min(t.z,e.z))}static max(t,e){return new u(Math.max(t.x,e.x),Math.max(t.y,e.y),Math.max(t.z,e.z))}static degreeToRadians(t){return new u(_t(t.x),_t(t.y),_t(t.z))}degreeToRadians(){return u.degreeToRadians(this)}static clamp(t,e,i){return new u(_(t.x,e.x,i.x),_(t.y,e.y,i.y),_(t.z,e.z,i.z))}static fromRotationMatrixIV(t){let e=u.ZERO,i=t.value,s=i[0],n=i[4],r=i[8],a=i[1],l=i[5],h=i[9],d=i[2],c=i[6],m=i[10];return e.y=Math.asin(_(-1,1,r)),Math.abs(r)<.9999999?(e.x=Math.atan2(-h,m),e.z=Math.atan2(-n,s)):(e.x=Math.atan2(c,l),e.z=0),e.x=V(e.x),e.y=V(e.y),e.z=V(e.z),e}static get ZERO(){return new u(0,0,0)}static get ONE(){return new u(1,1,1)}static get RIGHT(){return new u(1,0,0)}static get LEFT(){return new u(-1,0,0)}static get UP(){return new u(0,-1,0)}static get DOWN(){return new u(0,1,0)}static get FORWARD(){return new u(0,0,1)}static get BACK(){return new u(0,0,-1)}};function wi(...o){}var nt=class extends Map{constructor(t=[],e=wi){super(t);this.defaultFunction=e}static usingFunction(t){return new this([],t)}get(t){if(this.has(t))return super.get(t);{let e=this.defaultFunction(t);return this.set(t,e),e}}};var Y=class{constructor(){this.callbacks=nt.usingFunction(()=>new Set)}on(t,e){this.callbacks.get(t).add(e)}dispatch(t,...e){this.callbacks.get(t).forEach(i=>i(...e))}off(t,e){let i=this.callbacks.get(t);i.delete(e),i.size===0&&this.callbacks.delete(t)}dispose(){let t=this.callbacks.values(),e=t.next();for(;!e.done;)e.value.clear(),e=t.next();this.callbacks.clear()}};var Ui=["mousemove","touchstart","touchmove"],ot;(function(o){o.UPDATE="update"})(ot||(ot={}));var f=class{constructor(){f.uses.size===0&&(f.raf=new E(()=>f.loop()),f.clientPosition=u.ZERO,f.nextClientPosition=u.ZERO,f.domWatcher=new p,f.eventManager=new Y,Ui.forEach(t=>{f.domWatcher.add({element:window,on:t,eventOptions:{passive:!0},callback:e=>f.updatePosition(e)})}),f.raf.start()),f.uses.add(this)}static updatePosition(t){t instanceof MouseEvent?this.updatePositionFromEvent(t):t instanceof TouchEvent&&this.updatePositionFromTouchEvent(t)}static updatePositionFromTouchEvent(t){t.touches.length>0&&this.updatePositionFromEvent(t.touches[0])}static updatePositionFromEvent(t){this.nextClientPosition=new u(t.clientX,t.clientY)}static loop(){this.raf.preRead(()=>{var t;this.nextClientPosition&&((t=this.clientPosition)===null||t===void 0?void 0:t.equals(this.nextClientPosition))||(this.clientPosition=this.nextClientPosition,this.eventManager.dispatch(ot.UPDATE))})}on(t,e){f.eventManager.on(t,e)}off(t,e){f.eventManager.off(t,e)}getClientPosition(){return f.clientPosition}dispose(){f.uses.delete(this),f.uses.size===0&&(f.domWatcher.dispose(),f.raf.dispose(),f.clientPosition=null,f.eventManager.dispose())}};f.uses=new Set;var z=class{constructor(t,e,i,s){this.x2=t,this.y2=e,this.x3=t,this.y3=s}static getBezierPoint(t,e,i,s,n,r,a,l,h){let d=1-t,c=t*t*t*l+3*t*t*d*r+3*t*d*d*s+d*d*d*e,m=t*t*t*h+3*t*t*d*a+3*t*d*d*n+d*d*d*i;return{x:c,y:m}}static getPoint(t,e,i,s,n){return z.getBezierPoint(t,e.x,e.y,i.x,i.y,s.x,s.y,n.x,n.y)}static interpolateProgress(t,e,i,s,n){return z.getBezierPoint(t,0,0,e,i,s,n,1,1).y}interpolate(t){return z.interpolateProgress(t,this.x2,this.y2,this.x3,this.y3)}easingFunction(){return t=>this.interpolate(t)}static makeEasingFunction(t,e,i,s){return n=>this.interpolateProgress(n,t,e,i,s)}static makeEasingFunctionFromString(t){let e=t.split(",");return z.makeEasingFunction(+e[0],+e[1],+e[2],+e[3])}};var xt;(function(o){o[o.LEFT=-1]="LEFT",o[o.RIGHT=1]="RIGHT"})(xt||(xt={}));var vi=class{constructor(t,e,i){this.target=t,this.timeRange=e,this.startDistance=i}},Ei=class{constructor(t,e){this.startX=t,this.startTime=e,this.lastMouseX=t}};function yi(o){let t=li(o).transform;return!t.length||t==="none"?0:parseFloat(t.slice(7,-1).split(",")[4])}var B=class{constructor({transitionTime:t=500,easingFunction:e=B.DEFAULT_EASING}={}){this.raf=new E(()=>this.onRaf()),this.domWatcher=new p,this.easingFunction=e,this.transitionTime=t,this.transitionTarget=null,this.resizeTimeout=null,this.mouseTracker=new f,this.interaction=null,this.xTranslate=nt.usingFunction(i=>yi(i)),this.lastXTranslate=nt.usingFunction(()=>null),this.startInteractionCallback=()=>this.startInteractionOnMouseUpdate()}static sumWidth(t){return si(t.map(e=>e.offsetWidth))}init(t){this.initResizeHandler(),this.carousel=t,this.raf.read(()=>this.transition(t.getFirstSlide(),0)),this.initDraggableSlides(),this.raf.start()}onRaf(){this.carousel.isDisabled()||this.raf.read(()=>{!this.isInteracting()&&this.transitionTarget?this.renderTransition():(this.isInteracting()&&this.renderInteraction(),this.loopSlides()),this.applyXTranslations()})}transition(t,e=null){if(this.transitionTarget!==null&&this.transitionTarget.target===t)return;let i=e===null?this.transitionTime:e,s=performance.now(),n=[s,s+i],r=this.getDistanceToCenter(t);this.transitionTarget=new vi(t,n,r)}getActiveSlide(){return Ut(this.carousel.getSlides(),t=>Math.abs(this.getDistanceBetween(t,this.carousel.container)),t=>-1*this.carousel.getIndex(t))}hasTransitionedTo(t){return this.getDistanceToCenter(t)===0}isInteracting(){return this.interaction!==null}dispose(){this.resizeTimeout&&window.clearTimeout(this.resizeTimeout),this.mouseTracker.dispose(),this.domWatcher.dispose(),this.xTranslate.clear(),this.lastXTranslate.clear()}initResizeHandler(){this.domWatcher.add({element:window,on:"resize",eventOptions:{passive:!0},callback:()=>{this.resizeTimeout&&window.clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>this.transition(this.carousel.getActiveSlide(),0))}})}constrainXTranslations(){if(this.carousel.loop)return;let t=this.carousel.getSlides(),e=this.carousel.container.offsetWidth/2,i=B.sumWidth(t),n=t.slice(-1)[0].offsetWidth/2,r=t[0].offsetWidth/2,a=e-i+n,l=e-r;t.forEach(h=>{let d=this.xTranslate.get(h);this.xTranslate.set(h,_(a,l,d))})}applyXTranslations(){this.constrainXTranslations(),this.raf.write(()=>{this.xTranslate.forEach((t,e)=>{this.lastXTranslate.get(e)!==t&&(e.style.transform=`translateX(${t}px)`,this.lastXTranslate.set(e,t))})})}renderInteraction(){let t=this.getMouseX(),e=t-this.interaction.lastMouseX;this.interaction.lastMouseX=t,this.carousel.getSlides().forEach(i=>{this.translate(i,e)})}getDistanceToCenter(t){return this.getDistanceBetween(t,this.carousel.container)}initDraggableSlides(){this.carousel.getSlides().forEach(t=>{["touchstart","mousedown"].forEach(e=>{this.domWatcher.add({element:t,on:e,eventOptions:{passive:!0},callback:()=>this.startInteraction()})}),["contextmenu","dragstart","touchend","mouseup"].forEach(e=>{this.domWatcher.add({element:window,on:e,eventOptions:{passive:!0},callback:()=>this.endInteraction()})})})}getEasedTransitionPercent(){let t=Je(this.transitionTarget.timeRange[0],this.transitionTarget.timeRange[1],performance.now());return this.easingFunction(t)}renderTransition(){let t=this.transitionTarget;if(!t)return;let e=this.getEasedTransitionPercent(),i=v(t.startDistance,0,e),s=this.getDistanceToCenter(t.target),n=Math.abs(i)-Math.abs(s),r=Math.sign(s),a=n*r;this.carousel.getSlides().forEach(l=>this.translate(l,a)),this.loopSlides(),e===1&&(this.transitionTarget=null)}translate(t,e){let i=Math.round((this.xTranslate.get(t)+e)*100)/100;this.xTranslate.set(t,i)}loopSlides(){if(!this.carousel.loop)return;let t=this.transitionTarget&&this.transitionTarget.target||this.carousel.getActiveSlide(),e=this.carousel.getIndex(t),i=this.carousel.getSlides(),s=new Set(i.filter(c=>c!==t)),n=t.getBoundingClientRect().left,r={area:Math.max(n,0),index:e,direction:xt.LEFT},a=ui().clientWidth,l=n+t.offsetWidth,h={area:Math.min(a,a-l),index:e,direction:xt.RIGHT},d=[r,h];for(;s.size>0;){let c=ge(d,S=>S.area);c.index+=c.direction;let m=i[H(c.index,0,i.length)];c.area-=m.offsetWidth;let b=this.getDesiredDistanceBetween(t,m,c.direction)-this.getDistanceBetween(m,t);b!==0&&this.translate(m,b),s.delete(m)}}startInteraction(){var t;this.isInteracting()||(t=this.mouseTracker)===null||t===void 0||t.on(ot.UPDATE,this.startInteractionCallback)}startInteractionOnMouseUpdate(){this.cancelStartInteractionCallback(),this.interaction=new Ei(this.getMouseX(),performance.now()),this.transitionTarget=null,this.carousel.stopTransition()}cancelStartInteractionCallback(){var t;(t=this.mouseTracker)===null||t===void 0||t.off(ot.UPDATE,this.startInteractionCallback)}endInteraction(){if(this.interaction===null){this.cancelStartInteractionCallback();return}let t=performance.now()-this.interaction.startTime,e=this.getActiveSlide(),i=this.getDistanceToCenter(e),s=this.getMouseX()-this.interaction.startX,n=t>700?s:0;this.interaction=null;let r=Math.sign(n),a=Math.sign(i)*-1,l=this.carousel.loop;i===0||a===r||n===0?this.carousel.goToSlide(e):r===xt.RIGHT?l||e!==this.carousel.getFirstSlide()?this.carousel.prev():this.carousel.goToSlide(e):l||e!==this.carousel.getLastSlide()?this.carousel.next():this.carousel.goToSlide(e)}getMouseX(){return this.mouseTracker.getClientPosition().x}getCenter(t){if(!t)return 0;let e=t.getBoundingClientRect(),i=e.left+e.width/2,s=this.xTranslate.get(t)-yi(t);return i+s}getDistanceBetween(t,e=null){let i=this.getCenter(t);return e!==null?i-this.getCenter(e):i-document.children[0].clientWidth/2}getDesiredDistanceBetween(t,e,i){if(t===e)return 0;let s=this.getInBetweenSlides(t,e,i),n=B.sumWidth(s),r=e.offsetWidth/2,a=t.offsetWidth/2;return(r+n+a)*i}getInBetweenSlides(t,e,i){let s=this.carousel.getIndex(t),n=this.carousel.getIndex(e)-i;return s===n?[]:this.carousel.loop?bi(this.carousel.getSlides(),n,s,-i):this.carousel.getSlides().slice(Math.min(s+1,n),Math.max(s,n+i))}};B.DEFAULT_EASING=new z(.445,.05,.55,.95).easingFunction();var qt=class{init(t){this.activeSlide=t.getFirstSlide()}getActiveSlide(){if(!this.activeSlide)throw new Error("CssClassesOnly transition not initialized");return this.activeSlide}transition(t){this.activeSlide=t}hasTransitionedTo(t){return this.activeSlide===t}isInteracting(){return!1}dispose(){}};var qi="data-index",rt;(function(o){o[o.LEFT=-1]="LEFT",o[o.RIGHT=1]="RIGHT"})(rt||(rt={}));var U;(function(o){o.BEFORE_CHANGE="beforeChange",o.AFTER_CHANGE="afterChange"})(U||(U={}));var wt;(function(o){o.ACTIVE_SLIDE="active",o.BEFORE_SLIDE="before",o.AFTER_SLIDE="after"})(wt||(wt={}));var Ti=class{constructor(t,e){this.callback=t,this.delay=e,this.timePassed=0,this.timeout=setTimeout(t,e),this.lastStartTime=+new Date}isPaused(){return this.timeout===null}pause(){this.isPaused()||(this.timePassed+=+new Date-this.lastStartTime,this.clear())}unpause(){!this.isPaused()||(this.timeout=setTimeout(this.callback,this.delay-this.timePassed),this.lastStartTime=+new Date)}dispose(){this.clear()}clear(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}},vt=class{constructor(t,e,{condition:i=()=>!0,activeCssClass:s=wt.ACTIVE_SLIDE,beforeCssClass:n=wt.BEFORE_SLIDE,afterCssClass:r=wt.AFTER_SLIDE,distanceToActiveSlideAttr:a=qi,loop:l=!0,transition:h=void 0,autoplaySpeed:d=void 0}={}){if(e.length<1)throw new Error("Cannot start carousel without slides");if(this.raf=new E(()=>this.onRaf()),this.activeCssClass=s,this.beforeCssClass=n,this.afterCssClass=r,this.distanceToActiveSlideAttr=a,this.loop=l,this.condition=i,this.container=t,this.lastActiveSlide=null,this.eventManager=new Y,this.slides=e,typeof h=="string")switch(h){case"css":this.transition=new qt;break;case"draggable":this.transition=new B;break;default:throw new Error(`Unrecognized transition type "${h}" passed to Carousel.`)}else this.transition=h||new qt;this.transitionTarget=null,this.autoplaySpeed=d,this.autoplayTimeout=null,this.syncedCarousels=new Set([this]),this.init()}isDisabled(){return!this.condition()}isEnabled(){return this.condition()}goTo(t,e=!1){typeof t=="number"?this.goToIndex(t,e):this.goToSlide(t,e)}goToSlide(t,e=!1){this.isBeingInteractedWith()||this.transitionTarget!==t&&(this.transitionTarget=t,this.eventManager.dispatch(U.BEFORE_CHANGE,{carousel:this,currentSlide:this.getActiveSlide(),currentIndex:this.getActiveIndex(),nextSlide:this.transitionTarget,nextIndex:this.getIndex(this.transitionTarget)}),e||this.syncedCarousels.forEach(i=>{i!==this&&i.syncTo(this.getIndex(t),this)}))}isBeingInteractedWith(){return this.transition.isInteracting()}getActiveSlide(){return this.transition.getActiveSlide()}getActiveIndex(){return this.getIndex(this.getActiveSlide())}getFirstSlide(){return this.slides[0]}getLastSlide(){return this.slides[this.slides.length-1]}getIndex(t){return this.getSlides().indexOf(t)}getSlides(){return[...this.slides]}getSlidesBefore(t){return this.loop?this.splitSlidesInHalf(t,rt.LEFT):this.getSlides().slice(0,this.getSlides().indexOf(t))}getSlidesAfter(t){return this.loop?this.splitSlidesInHalf(t,rt.RIGHT):this.getSlides().slice(this.getSlides().indexOf(t)+1)}next(){this.transitionSlidesBy(1)}prev(){this.transitionSlidesBy(-1)}goToIndex(t,e=!1){let i=this.getClampedIndex(t);this.goToSlide(this.getSlideByIndex(i),e)}on(t,e){this.eventManager.on(t,e)}off(t,e){this.eventManager.off(t,e)}getSlideByIndex(t){return this.slides[t]}getSlideCount(){return this.slides.length}dispose(){this.raf.dispose(),this.transition.dispose()}stopTransition(){this.transitionTarget=null}getClampedIndex(t){let e=this.getSlides().length;return this.loop?H(t,0,e):_(0,e-1,t)}sync(...t){let e=xi(this.syncedCarousels,...t.map(i=>i.syncedCarousels));this.syncedCarousels=e,e.forEach(i=>i.syncedCarousels=e)}pause(){this.autoplayTimeout&&this.autoplayTimeout.pause()}unpause(){this.autoplayTimeout&&this.autoplayTimeout.unpause()}isPaused(){return this.autoplayTimeout===null||this.autoplayTimeout.isPaused()}transitionSlidesBy(t){let e=this.getSlides().indexOf(this.transitionTarget||this.getActiveSlide())+t;this.goToIndex(e)}syncTo(t,e){let i=t%this.getSlideCount();if(this.getIndex(this.transitionTarget)%e.getSlideCount()!==i)if(this.getSlideCount()>e.getSlideCount()){let n=[],r=i;for(;r<this.getSlideCount();)n.push(r),r+=e.getSlideCount();this.goTo(Ut(n,a=>Math.abs(this.getActiveIndex()-a)),!0)}else this.goTo(i,!0)}getHalfOfSlideCount(t){let e=(this.getSlides().length-1)/2;return e%2==0?e:t?Math.ceil(e):Math.floor(e)}splitSlidesInHalf(t,e){let i=this.getHalfOfSlideCount(e===rt.RIGHT),s=[],n=this.getIndex(t);for(;s.length<i;){n=H(n+e,0,this.getSlideCount());let r=this.getSlideByIndex(n);e===rt.RIGHT?s.push(r):s.unshift(r)}return s}init(){this.transition.init(this),this.raf.start(),this.resetAutoplayTimeout()}resetAutoplayTimeout(){this.autoplaySpeed&&(this.autoplayTimeout&&this.autoplayTimeout.dispose(),this.autoplayTimeout=new Ti(()=>this.next(),this.autoplaySpeed))}onRaf(){this.raf.read(()=>{if(this.condition())this.unpause();else{this.pause();return}this.isBeingInteractedWith()&&this.resetAutoplayTimeout();let t=this.getActiveSlide();t!==this.lastActiveSlide&&(this.lastActiveSlide=t,t&&this.updateClasses(t)),this.transitionTarget!==null&&(this.transition.hasTransitionedTo(this.transitionTarget)?(this.transitionTarget=null,this.eventManager.dispatch(U.AFTER_CHANGE,{carousel:this,currentSlide:this.getActiveSlide(),currentIndex:this.getActiveIndex()}),this.resetAutoplayTimeout()):this.transition.transition(this.transitionTarget))})}updateClasses(t){let e=this.getSlidesBefore(t),i=this.getSlidesAfter(t);this.raf.write(()=>{t.classList.add(this.activeCssClass),t.classList.remove(this.beforeCssClass,this.afterCssClass),t.setAttribute(this.distanceToActiveSlideAttr,"0"),e.reverse().forEach((s,n)=>{s.classList.add(this.beforeCssClass),s.classList.remove(this.activeCssClass,this.afterCssClass),s.setAttribute(this.distanceToActiveSlideAttr,`${-n-1}`)}),i.forEach((s,n)=>{s.classList.add(this.afterCssClass),s.classList.remove(this.activeCssClass,this.beforeCssClass),s.setAttribute(this.distanceToActiveSlideAttr,`${n+1}`)})})}};var be=class{constructor(t){this.prev=()=>{this.carousel.prev()};this.next=()=>{this.carousel.next()};this.el=t;let e=this.el.querySelector(".carouselRocket__leaders__carousel"),i=Array.from(this.el.querySelectorAll(".carouselRocket__leaders__carousel__slide"));this.carousel=new vt(e,i,{loop:!1}),this.numSlides=i.length,this.prevButton=this.el.querySelector(".carouselRocket__leaders__carouselButton--prev"),this.prevButton&&this.prevButton.addEventListener("click",this.prev),this.nextButton=this.el.querySelector(".carouselRocket__leaders__carouselButton--next"),this.nextButton&&this.nextButton.addEventListener("click",this.next),this.carousel.on(U.AFTER_CHANGE,s=>{this.onChange(s.currentIndex),this.carousel.getSlides().forEach((n,r)=>{n.setAttribute("aria-hidden",r===s.currentIndex?"false":"true")})}),this.onChange(this.carousel.getActiveIndex())}onChange(t){this.prevButton&&(this.prevButton.disabled=t===0),this.nextButton&&(this.nextButton.disabled=t===this.numSlides-1)}dispose(){this.prevButton&&this.prevButton.removeEventListener("click",this.prev),this.nextButton&&this.nextButton.removeEventListener("click",this.next)}};var xe;(function(o){o.UP="swipeUp",o.DOWN="swipeDown",o.LEFT="swipeLeft",o.RIGHT="swipeRight"})(xe||(xe={}));var w=class{constructor(t){this.allowSwipe=!1,this.rootElement=t,this.eventManager=new Y,this.watcher=new p,this.listenToEvents()}listenToEvents(){this.watcher.add({element:this.rootElement,on:"touchstart",eventOptions:{passive:!0},callback:this.onPointerDown.bind(this)}),this.watcher.add({element:this.rootElement,on:"touchend",eventOptions:{passive:!0},callback:this.onPointerUp.bind(this)}),this.watcher.add({element:this.rootElement,on:"touchmove",eventOptions:{passive:!0},callback:this.onPointerMove.bind(this)}),this.watcher.add({element:this.rootElement,on:"mousedown",eventOptions:{passive:!0},callback:this.onPointerDown.bind(this)}),this.watcher.add({element:this.rootElement,on:"mouseup",eventOptions:{passive:!0},callback:this.onPointerUp.bind(this)}),this.watcher.add({element:this.rootElement,on:"mousemove",eventOptions:{passive:!0},callback:this.onPointerMove.bind(this)})}onPointerDown(t){window.TouchEvent&&t instanceof TouchEvent&&(this.x=t.touches[0].clientX,this.y=t.touches[0].clientY),t instanceof MouseEvent&&(this.x=t.x,this.y=t.y),this.allowSwipe=!0}onPointerUp(){if(!this.x||!this.y||!this.allowSwipe)return;let t=this.x-this.mouseX,e=this.y-this.mouseY;Math.abs(t)>Math.abs(e)?t>0?(this.eventManager.dispatch(w.Events.LEFT),ht(this.rootElement,w.Events.LEFT,{})):(this.eventManager.dispatch(w.Events.RIGHT),ht(this.rootElement,w.Events.RIGHT,{})):e>0?(this.eventManager.dispatch(w.Events.UP),ht(this.rootElement,w.Events.UP,{})):(this.eventManager.dispatch(w.Events.DOWN),ht(this.rootElement,w.Events.DOWN,{})),this.allowSwipe=!1}onPointerMove(t){window.TouchEvent&&t instanceof TouchEvent&&(this.mouseX=t.touches[0].clientX,this.mouseY=t.touches[0].clientY),t instanceof MouseEvent&&(this.mouseX=t.x,this.mouseY=t.y)}on(t,e){this.eventManager.on(t,e)}off(t,e){this.eventManager.off(t,e)}dispose(){this.eventManager.dispose(),this.watcher.dispose()}};w.Events=xe;var we=class{constructor(t){this.init=()=>{this.prevButton&&this.prevButton.addEventListener("click",this.prev),this.nextButton&&this.nextButton.addEventListener("click",this.next),this.carousel.on(U.AFTER_CHANGE,t=>{this.onChange(t.currentIndex),this.carousel.getSlides().forEach((e,i)=>{e.setAttribute("aria-hidden",i===t.currentIndex?"false":"true")})}),this.onChange(this.carousel.getActiveIndex()),this.swipe.on(w.Events.RIGHT,()=>{this.prev()}),this.swipe.on(w.Events.LEFT,()=>{this.next()}),this.shareButton&&this.shareButton.addEventListener("click",this.share)};this.prev=()=>{this.carousel.prev()};this.next=()=>{this.carousel.next()};this.share=async t=>{let e=this.el.querySelector(".active[slide]");if(!e)return;let i=e.getAttribute("data-share-image");if(!i)return;let s=await fetch(i).then(l=>l.blob()),n=e.getAttribute("data-share-image-name");if(!n){let l=i.split("/");n=l[l.length-1]}let a={files:[new File([s],n,{type:s.type})]};if(navigator.canShare&&navigator.canShare(a))navigator.share(a);else{i.startsWith("/")&&(i=`https://pokemongolive.com${i}`);let l=`https://twitter.com/intent/tweet?url=${encodeURIComponent(i)}`;window.open(l)}};this.el=t,this.carouselEl=this.el.querySelector("[carousel]"),this.slideEls=Array.from(this.el.querySelectorAll("[slide]")),this.progressEl=this.el.querySelector("[progress]"),this.carousel=new vt(this.carouselEl,this.slideEls),this.swipe=new w(this.carouselEl),this.prevButton=this.el.querySelector("[prev]"),this.nextButton=this.el.querySelector("[next]"),this.shareButton=this.el.querySelector("[share]"),this.init()}onChange(t){this.progressEl.innerText=`${t+1} / ${this.slideEls.length}`}dispose(){this.prevButton&&this.prevButton.removeEventListener("click",this.prev),this.nextButton&&this.nextButton.removeEventListener("click",this.next),this.swipe.dispose()}};var ve=class{constructor(t){this.el=t,this.scroller=t.querySelector("[data-scrollx-scroller]"),this.scroller.addEventListener("scroll",()=>this.onScroll()),this.onScroll(),window.setTimeout(()=>this.onScroll(),1e3);let e=this.el.querySelectorAll("[data-scrollx-left]");for(let s=0;s<e.length;s++)e[s].addEventListener("click",()=>this.scrollLeft());let i=this.el.querySelectorAll("[data-scrollx-right]");for(let s=0;s<i.length;s++)i[s].addEventListener("click",()=>this.scrollRight())}onScroll(){let t=this.scroller.scrollLeft,e=this.scroller.scrollWidth-this.scroller.clientWidth;this.el.classList.toggle("scroll-start",t===0),this.el.classList.toggle("scroll-middle",t>0&&t<e),this.el.classList.toggle("scroll-end",t===e)}scrollLeft(){this.scroller.scrollLeft-=144}scrollRight(){this.scroller.scrollLeft+=144}};var Et=class{constructor(t){this.scrolled=!1;this.el=t,this.raf=new E(()=>this.rafLoop());let e=this.getStickyParent(t);this.raf.start(),window.addEventListener("scroll",()=>{this.scrolled=!0}),window.setTimeout(()=>{this.scrolled=!0,this.rafLoop()}),document.body.classList.add("use-inline-navbar")}rafLoop(){if(!this.scrolled)return;let t=this.getStickyOffset(this.el);if(t===null){this.el.classList.remove("sticky-before"),this.el.classList.remove("sticky-active"),this.el.classList.remove("sticky-after");return}this.el.classList.toggle("sticky-before",t>=2),this.el.classList.toggle("sticky-active",t>-2&&t<2),this.el.classList.toggle("sticky-after",t<=-2),this.scrolled=!1}getStickyOffset(t){let e=window.getComputedStyle(t);if(!e.top)return null;let i=t.getBoundingClientRect(),s=this.pxToNumber(e.top);return Math.floor(i.top-s)}getStickyParent(t){let e=t.getAttribute("data-sticky-parent");if(e){let s=t.closest(e);if(s)return s}let i=t.parentElement;for(;i;){if(window.getComputedStyle(i).position==="relative")return i;i=i.parentElement}return null}pxToNumber(t){return parseInt(t.slice(0,t.length-2))}};var Ee=class extends Et{constructor(t){super(t.querySelector(".TemplateStickyScrollTabs__stickyNav"));this.mobileMenuActive=!1;this.activeSectionId=null;this.parent=t,this.tabButtons=Array.from(this.parent.querySelectorAll(".TemplateStickyScrollTabs__navButton a")),this.tabContentSections=this.tabButtons.map(e=>{let i=e.getAttribute("href").slice(1);return document.getElementById(i)}),this.mobileMenuButton=this.el.querySelector(".TemplateStickyScrollTabs__stickyNav__mobileMenuButton"),this.mobileMenuButton&&this.mobileMenuButton.addEventListener("click",()=>this.toggleMobileMenu())}rafLoop(){if(!this.scrolled)return;super.rafLoop();let t=this.getActiveSection();this.setActiveSection(t)}getActiveSection(){let t=this.getStickyOffset(this.el),e=null;if(t!==null&&t<=0){e=this.tabContentSections[0].id;for(let i of this.tabContentSections.slice(1))i.getBoundingClientRect().top<=60&&(e=i.id)}return e}setActiveSection(t){if(t===this.activeSectionId)return;let e=null;for(let i of this.tabButtons){let s=i.parentElement,n=i.getAttribute("href").slice(1);s.classList.toggle("active",n===t),n===t&&(e=getComputedStyle(s).getPropertyValue("--primary-color"))}for(let i of this.tabContentSections)i.classList.toggle("active",i.id===t);e?this.el.style.setProperty("--active-color",e):this.el.style.removeProperty("--active-color"),this.activeSectionId=t}toggleMobileMenu(t){typeof t=="undefined"&&(t=!this.mobileMenuActive),this.el.classList.toggle("mobile-menu-active",t),this.mobileMenuActive=t,t&&window.setTimeout(()=>{document.body.addEventListener("click",()=>{this.toggleMobileMenu(!1)},{once:!0})})}};var ye=class{constructor(t){this.el=t,this.tabs=Array.from(t.querySelectorAll('a[role="tab"]'));let e=this.getInitialActiveTab(),i=window.location.hash.substring(1);this.tabPanels=this.tabs.map(s=>{let n=this.getIdFromAnchorElement(s),r=document.getElementById(n);if(!r)throw new Error(`tabpanel #${n} not found`);return i===n&&(e=n),r}),this.setActiveTab(e),this.tabs.forEach(s=>{s.addEventListener("click",n=>{this.getIdFromAnchorElement(s)&&(n.preventDefault(),this.setActiveTab(this.getIdFromAnchorElement(s)))})})}getInitialActiveTab(){let t=this.el.getAttribute("data-initial-tab");if(t)return t;if(this.tabs[0].getAttribute("data-live-date")){let e="",i=new Date().toISOString().slice(0,10);for(let s of this.tabs){let n=s.getAttribute("data-live-date");n&&n<=i&&(e=this.getIdFromAnchorElement(s))}if(e)return e}return this.getIdFromAnchorElement(this.tabs[0])}setActiveTab(t){this.tabs.forEach(e=>{this.getIdFromAnchorElement(e)===t?(this.activeTab=e,e.classList.add("active"),e.setAttribute("aria-selected","true")):(e.classList.remove("active"),e.setAttribute("aria-selected","false"))}),this.tabPanels.forEach(e=>{e.id===t?(this.activeTabPanel=e,e.classList.add("active"),e.setAttribute("aria-hidden","false")):(e.classList.remove("active"),e.setAttribute("aria-hidden","true"))})}getIdFromAnchorElement(t){return t.href.split("#")[1]}};var Te=class{constructor(t){this.rpc=new ut;this.el=t,this.init()}async init(){let t=this.getLocale(),e=await this.rpc.fetch("events.list",{locale:t});console.log(e),this.el.classList.add("ready");let i=e.data?.upcomingEvents||[];if(!i.length){this.el.classList.add("empty");return}let s=this.el.querySelector(".upcomingevents__events");if(s){let n=i.map(r=>this.renderEvent(r));gt(n,s)}}getLocale(){return(document.documentElement.lang||"en").replace("-","_")}getLocaleForDate(){let t=this.getLocale();return t==="zh_Hant"?"zh-TW":t==="pt_BR"?"pt-BR":t.replace("_","-")}renderEvent(t){let e=t.image.url||"";e.startsWith("https://lh3.")&&e.indexOf("=")===-1&&(e=e+"=w500");let i=this.formatEventDay(t),s=t.eventName||t.title,n=t.description||t.title;return s===n&&(n=""),bt`
      <a class="upcomingevents__event" href="${t.url}">
        <div class="upcomingevents__event__imageAndDate">
          <div class="upcomingevents__event__image">
            <img src="${e}" width="${t.image.width}" height="${t.image.height}">
          </div>
          <div class="upcomingevents__event__calendar">
            <div class="upcomingevents__event__calendar__day">${this.formatEventDay(t)}</div>
            <div class="upcomingevents__event__calendar__month">${this.formatEventMonth(t)}</div>
          </div>
        </div>
        <div class="upcomingevents__event__content">
          <div class="upcomingevents__event__title">${s}</div>
          <div class="upcomingevents__event__body">${n}</div>
        </div>
      </a>
    `}formatEventMonth(t){let e=this.getLocaleForDate(),i=this.parseDate(t.startDate),s=this.parseDate(t.endDate),n=i.toLocaleDateString(e,{month:"short"}),r=s.toLocaleDateString(e,{month:"short"});return n===r?n:`${n}-${r}`}formatEventDay(t){let e=this.getLocaleForDate(),i=this.parseDate(t.startDate),s=this.parseDate(t.endDate),n=i.toLocaleDateString(e,{day:"numeric"}),r=s.toLocaleDateString(e,{day:"numeric"});return n===r?n:`${n}-${r}`}initDates(){let t=this.el.querySelectorAll(".upcomingevents__content__date"),e=(document.documentElement.lang||"en").replace("_","-");for(let i of Array.from(t)){let s=i.getAttribute("data-date"),n=this.parseDate(s),r=i.querySelector(".upcomingevents__content__date__month");r&&(r.textContent=n.toLocaleDateString(e,{month:"short"}));let a=i.querySelector(".upcomingevents__content__date__day");a&&(a.textContent=n.toLocaleDateString(e,{day:"numeric"}))}}parseDate(t){let e=t.split("-");return new Date(+e[0],+e[1]-1,+e[2])}};var Se=class{constructor(){this.observer=new MutationObserver(this.onMutate.bind(this)),this.managers=[]}dispose(){this.managers.forEach(t=>t.dispose()),this.managers=[],this.stop()}register(t,e,...i){return this.managers.push(new Si(t,e,...i)),this}start(){this.observer.observe(document.body,{attributes:!0,attributeFilter:["data-component"],subtree:!0,childList:!0}),this.update()}stop(){this.observer.disconnect()}update(){this.managers.forEach(t=>t.update())}onMutate(t){this.update()}},Si=class{constructor(t,e,...i){this.mounted=new Map,this.name=t,this.cls=e,this.args=i}isMounted(t){return this.mounted.has(t)}update(){let t=new Map,e=document.querySelectorAll(`[data-component="${this.name}"]`);for(let s=0;s<e.length;s++){let n=e[s],r=this.mounted.get(n);r||(r=new this.cls(n,...this.args),n.setAttribute("data-component-mounted","true")),t.set(n,r)}Array.from(this.mounted.keys()).filter(s=>!t.has(s)).forEach(s=>{let n=this.mounted.get(s);n.el.removeAttribute("data-component-mounted"),n.dispose&&n.dispose()}),this.mounted=t}dispose(){this.mounted.forEach(t=>{t.el.removeAttribute("data-component-mounted"),t.dispose&&t.dispose()}),this.mounted.clear()}};var Le=class{constructor(){this.loadedScripts={},this.disposed=!1}load(t,e){let i=this.loadedScripts[t];if(i)return i;let s=new Promise((n,r)=>{if(e.test()){n();return}this.renderScriptTag(t,e);let a=Date.now(),l=e.timeout||5e3,h=()=>{if(this.disposed){r("script loader is disposed");return}if(e.test()){n();return}if(Date.now()-a>l){r(`failed to load ${t} due to timeout`);return}window.requestAnimationFrame(h)};window.requestAnimationFrame(h)});return this.loadedScripts[t]=s,s.catch(n=>{console.error(`failed to load ${t}`),console.error(n),delete this.loadedScripts[t]}),s}renderScriptTag(t,e){let i=document.createElement("script");if(e==null?void 0:e.attrs)for(let s in e.attrs){let n=e.attrs[s];i.setAttribute(s,n)}i.src=t,document.body.appendChild(i)}renderDom(t){this.renderScriptTag(t)}dispose(){this.loadedScripts={},this.disposed=!0}};var Vi="https://www.youtube.com/iframe_api?trustedtypes=1",Gi={namespace:"degu-youtube-modal",useHandlerOnMobile:!0,transitionDuration:300,parentSelector:"body",playerVars:{autohide:1,autoplay:1,fs:1,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3},scriptLoader:new Le},Vt={ENTER:"Enter",ESC:"Escape",SPACE:" "},Ae=class{constructor(t){this.isVisible=!1,this.config=Object.assign({},Gi,t),this.container=document.querySelector(this.config.parentSelector);let e=this.createDom("div",this.config.namespace);e.setAttribute("aria-modal","true"),e.setAttribute("role","dialog");let i=this.createDom("button",`${this.config.namespace}__x`);i.setAttribute("aria-label","Close video player"),i.setAttribute("tabindex","0"),i.addEventListener("click",()=>{this.setActive(!1)}),this.closeEl=i;let s=this.createDom("div",`${this.config.namespace}__attribution`);this.attributionEl=s;let n=this.createDom("div",`${this.config.namespace}__player`);this.playerEl=n;let r=this.createDom("div",`${this.config.namespace}__mask`);e.appendChild(i),e.appendChild(s),e.appendChild(n),e.appendChild(r),this.modalEl=e,this.container.appendChild(e),document.addEventListener("click",this.handleEvent.bind(this)),document.addEventListener("keydown",this.handleKeyboardEvent.bind(this))}async play(t,e){let i=e||{};if(this.config.useHandlerOnMobile&&(Q()||Z())){let s=`https://m.youtube.com/watch?v=${t}`;i.startTime&&(s=`${s}&t=${i.startTime}s`),window.location.href=s;return}if(await this.config.scriptLoader.load(Vi,{test:()=>window.YT&&window.YT.loaded===1}),i.attribution&&(this.attributionEl.textContent=i.attribution),this.setActive(!0),this.player){if(t===this.activeVideoId)return;this.player.loadVideoById(t,i.startTime||0,"large"),this.activeVideoId=t}else{let s=Object.assign({},this.config.playerVars);i.startTime&&(s.start=i.startTime),s.origin=location.protocol+"//"+location.host;let n={videoId:t,playerVars:s,events:{onReady:r=>{r.target.playVideo()}}};this.player=new YT.Player(this.playerEl,n)}}getPlayOptionsFromAttrs(t){let e={},i=+(t.getAttribute(`data-${this.config.namespace}-video-start-seconds`)||0);i>0&&(e.startTime=i);let s=t.getAttribute(`data-${this.config.namespace}-attribution`);return s&&(e.attribution=s),e}setActive(t){t?(this.lastScrollY=window.pageYOffset,this.lastFocusedEl=document.activeElement,window.setTimeout(()=>{this.closeEl.focus(),this.config.onModalOpen&&this.config.onModalOpen(this)},this.config.transitionDuration+100)):window.setTimeout(()=>{this.lastFocusedEl&&(this.lastFocusedEl.focus(),this.lastFocusedEl=void 0),window.scrollTo({left:0,top:this.lastScrollY}),this.config.onModalClose&&this.config.onModalClose(this)},this.config.transitionDuration+100),this.setVisible(t)}dispose(){document.removeEventListener("click",this.handleEvent.bind(this)),document.removeEventListener("keydown",this.handleKeyboardEvent.bind(this)),this.modalEl&&this.container.removeChild(this.modalEl)}createDom(t,e,...i){let s=document.createElement(t);return s.className=e,i&&i.length&&i.forEach(n=>s.appendChild(n)),s}handleEvent(t){let e=t.target;for(;e;){let i=`data-${this.config.namespace}-video-id`,s=e.getAttribute(i);if(s){t.preventDefault();let n=this.getPlayOptionsFromAttrs(e);this.play(s,n);return}e=e.parentElement}}handleKeyboardEvent(t){if(this.isVisible){if(!this.player)return;t.key===Vt.ESC?this.setActive(!1):t.key===Vt.SPACE&&(this.player.getPlayerState()===YT.PlayerState.PLAYING?this.player.pauseVideo():this.player.playVideo())}else(t.key===Vt.ENTER||t.key===Vt.SPACE)&&this.handleEvent(t)}setVisible(t){window.setTimeout(()=>{this.player&&(t?this.player.getPlayerState()!==YT.PlayerState.PLAYING&&this.player.playVideo():this.player.pauseVideo())},100),window.setTimeout(()=>{this.modalEl.classList.toggle(`${this.config.namespace}--enabled`,t)},t?0:this.config.transitionDuration),window.setTimeout(()=>{this.modalEl.classList.toggle(`${this.config.namespace}--visible`,t),this.isVisible=t},t?this.config.transitionDuration:0)}};var Me=class{constructor(t){this.el=t,this.init()}init(){let t=this.el.querySelector(".TemplateEventTickets__ticketsWrap--MultiTicketWithTabs");t&&new Li(t);let e=this.el.querySelector(".TemplateEventTickets__ticketsWrap--MultiTicketWithDescriptions");e&&new Ai(e)}},Li=class{constructor(t){this.el=t,this.scrollEl=this.el.querySelector(".TemplateEventTickets__tickets"),this.cards=Array.from(this.el.querySelectorAll(".TemplateEventTickets__ticketContainer")),this.buttons=Array.from(this.el.querySelectorAll(".TemplateEventTickets__ticketsTab")),this.init()}init(){this.buttons.forEach((t,e)=>{t.addEventListener("click",()=>{this.scrollTo(e)})}),this.cards.forEach((t,e)=>{t.addEventListener("click",()=>{this.scrollTo(e)})}),this.scrollEl.addEventListener("scroll",()=>this.onScroll()),this.onScroll()}scrollTo(t){let e=this.cards[t],i=(this.scrollEl.offsetWidth-e.offsetWidth)/2,s=e.offsetLeft-i;this.scrollEl.scroll({left:s,behavior:"smooth"})}onScroll(){if(!this.scrollEl||this.cards.length===0)return;let t=this.scrollEl.scrollLeft,e=window.getComputedStyle(this.scrollEl).columnGap,i=window.parseInt(e.slice(0,e.length-2)),n=this.cards[0].offsetWidth,r=n+i,a=0;for(let l=this.cards.length-1;l>=0;l--){let h=l*r-.5*n;if(t>h){a=l;break}}this.scrollEl.scrollLeft>=this.scrollEl.scrollWidth-this.scrollEl.offsetWidth&&(a=this.cards.length-1),this.setActiveCard(a)}setActiveCard(t){this.buttons.forEach((e,i)=>{e.classList.toggle("active",t===i)}),this.cards.forEach((e,i)=>{e.classList.toggle("active",t===i)})}},Ai=class{constructor(t){this.el=t,this.buttons=Array.from(this.el.querySelectorAll(".TemplateEventTickets__ticketsTab")),this.tabContents=Array.from(this.el.querySelectorAll(".TemplateEventTickets__ticketsLayout")),this.init()}init(){this.buttons.forEach(t=>{t.addEventListener("click",()=>{let e=t.getAttribute("data-tab");e&&this.setActiveTab(e)})})}setActiveTab(t){this.tabContents.forEach(e=>{e.classList.toggle("active",t===e.getAttribute("data-tab"))})}};function k(o,t,...e){let i=document.createElement(o);if(t)for(let s in t)s==="text"?i.textContent=String(t[s]):i.setAttribute(s,String(t[s]));return e&&e.length>0&&e.forEach(s=>i.appendChild(s)),i}function Mi(o){return o.startsWith("https://lh3.")}var Ie=class{constructor(t){this.el=t,this.locale=document.documentElement.lang||"en",this.strings={},this.init()}init(){this.fetchPosts().then(()=>{this.el.closest(".TemplateRecentNewsCards").classList.remove("loading")}),this.strings.learn_more=this.el.getAttribute("data-learn-more")||"Learn more"}async fetchPosts(){let t=this.el.getAttribute("data-tag")||null,e=await window.fetch("/post/api/blog.list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({locale:this.locale,tag:t})});if(!e.ok)return;let s=(await e.json()).data.blogPosts;this.renderPosts(s)}renderPosts(t){t.forEach(e=>{let i=k("div",{class:"TemplateRecentNewsCards__card",href:e.url},this.createImage(e),this.createContent(e));this.el.appendChild(i)})}createImage(t){let e=k("div",{class:"TemplateRecentNewsCards__card__image"}),i=t.fields?.meta||{};if(i.image?.url){let s=i.image,n=s.url;if(Mi(n)){let a=window.devicePixelRatio>1?2400:1200;n=`${n}=s${a}-rj`}let r=k("img",{src:n,width:s.width,height:s.height,alt:s.alt||""});e.appendChild(r)}return e}createContent(t){let e=k("div",{class:"TemplateRecentNewsCards__card__content"}),i=t.fields?.meta||{};if(i.title){let s=k("div",{class:"TemplateRecentNewsCards__card__content__title",text:i.title});e.appendChild(s)}if(t.url){let s=k("div",{class:"TemplateRecentNewsCards__card__content__button__label",text:this.strings.learn_more}),n=k("div",{class:"TemplateRecentNewsCards__card__content__button__icon"});n.innerHTML=`
<svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M15.2075 7.39918C15.2075 7.13195 15.1037 6.87323 14.9201 6.68355L9.67642 1.01889C9.46888 0.803337 9.25339 0.708496 9.02995 0.708496C8.51913 0.708496 8.15197 1.09651 8.15197 1.62245C8.15197 1.89833 8.25571 2.13111 8.41539 2.30357L10.2111 4.26943L12.5257 6.55426L10.6741 6.43354H1.00076C0.466018 6.43354 0.098877 6.83014 0.098877 7.39918C0.098877 7.95965 0.466018 8.35624 1.00076 8.35624H10.6741L12.5257 8.23553L10.2111 10.5204L8.41539 12.4862C8.25571 12.6587 8.15197 12.8915 8.15197 13.1674C8.15197 13.6933 8.51913 14.0813 9.02995 14.0813C9.25339 14.0813 9.46888 13.9864 9.66047 13.7882L14.9201 8.10623C15.1037 7.91655 15.2075 7.6579 15.2075 7.39918Z" fill="currentColor"/>
</svg>`.trimStart();let r=k("a",{class:"TemplateRecentNewsCards__card__content__button",href:t.url},s,n),a=k("div",{class:"TemplateRecentNewsCards__card__content__buttons"},r);e.appendChild(a)}return e}};var Ce=class{constructor(t){this.el=t;let e=this.el.querySelector(".open-button");e&&e.addEventListener("click",()=>this.open());let i=this.el.querySelector(".close-button");i&&i.addEventListener("click",()=>this.close()),window.addEventListener("click",s=>{s.target&&this.el.contains(s.target)||this.close()})}open(){this.el.classList.add("opened")}close(){this.el.classList.remove("opened")}};var _e=class{constructor(t){this.imageSources=t,this.blobs={},this.images64={},this.maxRetries=3}load(){return new Promise(t=>{this.imageSources||t(this.blobs);let e=this.imageSources.map(i=>this.loadBlob(i));Promise.all(e).then(()=>{t(this.blobs)})})}loadBlob(t,e=0){return new Promise(i=>{fetch(t).then(s=>{if(s.ok)return s.blob();if(e++,e>=this.maxRetries)throw new Error(`failed after ${e} tries`);return this.loadBlob(t,e)}).then(s=>{this.blobs&&s&&(this.blobs[t]=s),i(s)})})}loadBase64Images(){return new Promise(t=>{let e=this.imageSources.map(i=>this.loadBlobAsBase64Image(i));Promise.all(e).then(()=>{t(this.images64)})})}loadBlobAsBase64Image(t,e=0){return new Promise((i,s)=>{fetch(t).then(n=>n.ok?n.blob():(e++,e>=this.maxRetries&&s(`failed after ${e} tries`),this.loadBlobAsBase64Image(t,e))).then(n=>{n&&hi(n).then(r=>{this.images64[t]=r,i(n)})})})}dispose(){this.imageSources=[],this.images64={},this.blobs={}}};function Ii(o,t,e,i){return{r:x(o.r,t.r,e,i)>>0,g:x(o.g,t.g,e,i)>>0,b:x(o.b,t.b,e,i)>>0,a:x(o.a,t.a,e,i)}}function Ci(o){let t=o.r,e=o.g,i=o.b;return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1).toUpperCase()}function $i(o,t=1){let e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;o=o.replace(e,(n,r,a,l)=>r+r+a+a+l+l);let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o),s=null;return i&&(s={r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),a:t}),s}function Gt(o){if(Mt(o))return $i(o);if(Ct(o)&&(o=o.replace(")",",1)"),o=o.replace("rgb","rgba")),It(o)){let t=o.match(/^rgba\(\s*?(\d{1,3})\s*?,\s*?(\d{1,3})\s*?,\s*?(\d{1,3})\s*?,\s*?(\d*(?:\.\d+)?)\)$/);return t?{r:+t[1],g:+t[2],b:+t[3],a:+t[4]}:null}return null}function _i(o){return`rgba(${o.r}, ${o.g}, ${o.b}, ${o.a})`}var T;(function(o){o.number="num",o.unit="unit",o.cssHex="cssHex",o.rgba="rgba",o.rgb="rgb"})(T||(T={}));function Yi(o){let t=o.replace(/[a-zA-Z%]+/g,""),e=o.match(/[a-zA-Z%]+/g),i={value:null,unit:null,type:null,valueType:null,originalValue:o};return It(o)?(i.type=T.rgba,i.value=Gt(o),i.valueType=T.rgba):Ct(o)?(i.type=T.rgb,i.value=Gt(o),i.valueType=T.rgba):Mt(o)?(i.value=Gt(o),i.type=T.cssHex,i.valueType=T.rgba):(i.value=t?+t:null,i.unit=e?e[0]:null,i.type=T.unit,i.valueType=T.number),i.originalValue=o,i}var Pe={parse:Yi};var yt=class{constructor(t){this.interpolateConfig=t,this.currentValue=0,this.currentProgress=0,this.calculate(0)}modify(t){return new yt(t)}calculate(t){if(this.currentProgress=t,C(this.interpolateConfig.from))this.currentValue=x(this.interpolateConfig.from,this.interpolateConfig.to,this.currentProgress,this.interpolateConfig.easeFunction);else{let e=Pe.parse(this.interpolateConfig.from),i=Pe.parse(this.interpolateConfig.to);if(e.valueType===T.number&&(this.currentValue=x(e.value,i.value,this.currentProgress,this.interpolateConfig.easeFunction),this.currentValue=`${this.currentValue}${e.unit}`),e.valueType===T.rgba){let s=Ii(e.value,i.value,this.currentProgress,this.interpolateConfig.easeFunction);this.currentValue=_i(s)}}return this.currentValue}};var $t={errors:{FROM_TO_EQUAL:"Range progress from and to values should not equal each other.",FROM_GREATER:"Range progress from greater than the value of to"},checkInvalidRangedProgresses:o=>{o.forEach(t=>{if(t.from===t.to)throw console.error(t),new Error($t.errors.FROM_TO_EQUAL);if(t.from>t.to)throw console.error(t),new Error($t.errors.FROM_GREATER)})},findBestMatchingRangedProgress(o,t){let e=t[0];return t.forEach(i=>{let s=e;e.to<=o&&(e=i),e.from>o&&(e=s)}),e}},Yt=class{constructor(t){this.parentProgress=0,this.currentValues={},this.config=t,this.updateConfig(this.config)}updateConfig(t){if(this.config=this.createStaggers(t),!this.config.interpolations)throw new Error("Multiinterpolation config is missing interpolations");this.config.interpolations=this.config.interpolations.map(e=>($t.checkInvalidRangedProgresses(e.progress),e))}createStaggers(t){let e=[];return[...t.interpolations].forEach(i=>{if(i.stagger&&!i.staggerItem)for(let s=0;s<i.stagger.count;s++){let n=Object.assign({},i);n.progress=n.progress.map(r=>(r=Object.assign({},r),r.to+=s*i.stagger.progressOffset,r.from+=s*i.stagger.progressOffset,n.id=i.id+"-"+s,n.staggerItem=!0,r)),e.push(n)}}),e.forEach(i=>{t.interpolations.push(i)}),t}getCalculations(){return this.currentValues}calculate(t){return this.parentProgress=t,this.config.interpolations.forEach(e=>{let i=$t.findBestMatchingRangedProgress(this.parentProgress,e.progress),s=Ke(this.parentProgress,i.from,i.to);if(e.noInterpolation){if(!e.noInterpolationDefault)throw new Error("You are using noInterpolation without a noInterpolation default");Ze(this.parentProgress,i.from,i.to,!0)?this.currentValues[e.id]=i.end:this.currentValues[e.id]=e.noInterpolationDefault}else{let n=new yt({from:i.start,to:i.end,easeFunction:i.easingFunction||W}).calculate(s);this.currentValues[e.id]=n,e.visibilityId&&(this.currentValues[e.visibilityId]=n<=0?"hidden":"visible")}e.onUpdate&&e.onUpdate(e.id,this.parentProgress,this.currentValues[e.id])}),this.currentValues}};var Re=class{constructor(t){this.rafLoop=t,this.raf=new E(()=>{this.animationLoop_()}),this.duration=0,this.progress=0,this.timeElapsed=0,this.timeSnapshot=0,this.playing=!1,this.completeCallback=null}animationLoop_(){if(!this.playing)return;let t=te(this.timeSnapshot,D());this.timeElapsed+=t,this.progress=tt(this.timeElapsed/this.duration),this.timeSnapshot=D(),this.progress<1?this.rafLoop&&this.rafLoop(this.progress):(this.rafLoop&&this.rafLoop(1),this.reset(),this.raf.stop(),this.completeCallback&&this.completeCallback(1))}setDuration(t){this.duration=t}setFps(t){this.raf.setFps(t)}onComplete(t){this.completeCallback=t}play(){this.playing||(this.playing=!0,this.timeSnapshot=D(),this.raf.start())}reset(){this.playing=!1,this.raf.stop(),this.timeElapsed=0}pause(){this.raf.stop(),this.playing=!1}dispose(){this.raf.dispose()}};var ke=class{constructor(t){this.lastUpdateTime=0,this.scheduleTimeout=0,this.fps=t,this.locked=!0}setFps(t){this.fps=t}lock(t){this.locked=t}schedule(t){this.cancelSchedule(),this.scheduleTimeout=window.setTimeout(()=>{this.locked=!1,t(),this.locked=!0},1e3/this.fps+1)}cancelSchedule(){this.scheduleTimeout&&window.clearTimeout(this.scheduleTimeout)}canRun(){if(this.cancelSchedule(),!this.locked)return!0;if(this.lastUpdateTime){let e=D()-this.lastUpdateTime,i=this.fps===0?0:1e3/this.fps;return e>i?(this.lastUpdateTime=D(),!0):!1}return this.lastUpdateTime?!1:(this.lastUpdateTime=D(),!0)}};var j=class{constructor(){}static setFillColor(t,e){t.fillStyle=e}static setStrokeColor(t,e){t.strokeStyle=e}static line(t,e,i,s,n){t.beginPath(),t.moveTo(e,i),t.lineTo(s,n),t.stroke()}static quickText(t,e,i,s){t.font="12px sans-serif",t.strokeText(e,i,s)}static point(t,e,i,s=5){t.fillRect(e,i,s,s)}static vectorLine(t,e,i){j.line(t,e.x,e.y,i.x,i.y)}static vectorPoint(t,e,i=5){j.point(t,e.x,e.y,i)}static vectorQuadrilateral(t,e,i,s,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.lineTo(s.x,s.y),t.lineTo(n.x,n.y),t.closePath(),t.fill()}static drawVectors(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y),e.forEach(i=>{t.lineTo(i.x,i.y)}),t.closePath(),t.fill()}static getColorAtPointAsRgb(t,e){let i=t.getImageData(e.x,e.y,1,1).data;return{r:i[0],g:i[1],b:i[2]}}static getColorAtPointAsHex(t,e){let i=j.getColorAtPointAsRgb(t,e);return Ci(i)}};var Oe={NO_ELEMENT:"An element is required for canvas image sequence",NO_IMAGE_SETS:"Image sets are required for canvas image sequence",NO_IMAGES:"There are no images defined in your canvas image sequence image set"},He=class{constructor(t,e,i,s){if(this.lerpAmount=1,this.element=t,!t)throw new Error(Oe.NO_ELEMENT);if(!e)throw new Error(Oe.NO_IMAGE_SETS);this.imageSets=e,this.activeImageSet=null,this.blobCache={},this.options=i,this.isPlaying=!1,this.canvasElement=document.createElement("canvas"),this.options&&this.options.ariaLabel?(this.canvasElement.setAttribute("aria-label",this.options.ariaLabel),this.canvasElement.setAttribute("role","img")):this.canvasElement.setAttribute("aria-hidden","true"),this.context=this.canvasElement.getContext("2d"),this.dpr=oi(s,window.devicePixelRatio||1),this.canvasWidth=0,this.canvasHeight=0,this.imageNaturalHeight=0,this.imageNaturalWidth=0,this.currentFrame=0,this.lastDrawSource=null,this.targetFrame=0,this.containScale=null,this.disposed=!1,this.fps=new ke(Lt()?30:60),this.cacheImage=new Image,this.rafTimer=null,this.multiInterpolate=null,this.clipMultiInterpolate=null,this.clipPathType=null,this.blobLoader=null,this.progress=null,this.playDefer=null,this.domWatcher=new p,this.domWatcher.add({element:window,on:"smartResize",callback:()=>{this.resize(),this.flush(),this.lastDrawSource=null,this.fps.lock(!1),this.lastRenderSource&&this.draw(this.lastRenderSource),this.fps.lock(!0)},id:"resize",eventOptions:{passive:!0}}),this.resize(),this.domWatcher.run("resize"),this.domWatcher.add({element:window,on:"smartResize",callback:()=>{this.getSourceThatShouldLoad(this.imageSets)!==this.activeImageSet&&(this.loadNewSet(this.imageSets),this.load().then(()=>{this.lastDrawSource=null,this.fps.lock(!1),this.renderByProgress(this.progress||0),this.fps.lock(!0)}))},id:"image-set-resize",eventOptions:{passive:!0}}),this.element.appendChild(this.canvasElement),this.readyPromise=new N,this.loadNewSet(e),this.lastRenderSource=null,this.lastDrawSource=null,this.draw=ni(this.draw.bind(this))}setMultiInterpolation(t){this.multiInterpolate=new Yt({interpolations:[{id:"sequence",progress:t}]})}resize(){this.canvasWidth=this.element.offsetWidth,this.canvasHeight=this.element.offsetHeight,this.canvasElement.width=this.element.offsetWidth*this.dpr,this.canvasElement.height=this.element.offsetHeight*this.dpr,this.canvasElement.style.width=this.canvasWidth+"px",this.canvasElement.style.height=this.canvasHeight+"px",this.context.scale(this.dpr,this.dpr)}load(){return!this.blobLoader||!this.activeImageSet?(window.setTimeout(()=>{this.readyPromise.resolve()}),this.readyPromise.getPromise()):((()=>{this.blobLoader.load().then(e=>{this.blobCache=e,this.setImageDimensions().then(()=>{this.blobLoader.dispose(),this.readyPromise.resolve(e)})})})(),this.readyPromise.getPromise())}loadNewSet(t){if(this.blobLoader&&this.blobLoader.dispose(),this.imageSets=t,this.activeImageSet=this.getSourceThatShouldLoad(this.imageSets),this.activeImageSet&&!Ge(this.activeImageSet.images))throw new Error(Oe.NO_IMAGES);this.activeImageSet?this.blobLoader=new _e(this.activeImageSet.images):this.blobLoader=null,this.blobCache={},this.flush(),this.lastRenderSource=null,this.readyPromise=new N}getSourceThatShouldLoad(t){let e=[];return t.forEach(i=>{i.when?i.when()&&e.push(i):e.push(i)}),e[0]}makeImage(t){return new Promise(e=>{if(!t||!this.blobCache[t]){e(null);return}URL.revokeObjectURL(this.cacheImage.src),this.cacheImage.onload=()=>{e(this.cacheImage)},this.cacheImage.src=URL.createObjectURL(this.blobCache[t])})}setImageDimensions(){return new Promise(t=>{let e=this.activeImageSet.images[0],i=this.blobCache[e];ci(i).then(s=>{let n=!s.naturalWidth;this.imageNaturalHeight=n?s.height:s.naturalHeight,this.imageNaturalWidth=n?s.width:s.naturalWidth,dt(s),s=null,t()})})}getActiveImages(){return this.activeImageSet.images}setClipInterpolations(t){this.clipPathType=t.type,this.clipMultiInterpolate=new Yt({interpolations:t.interpolations})}renderByProgress(t,e=!1){this.progress=et(t),!this.isPlaying&&this.renderProgress(t,e)}renderProgress(t,e=!1){let i=et(t);if(this.multiInterpolate&&!e){let s=this.multiInterpolate.calculate(i);i=et(s.sequence)}if(this.clipMultiInterpolate&&this.clipMultiInterpolate.calculate(i),(i>=.95||i<=.05)&&this.flush(),this.activeImageSet){let s=this.activeImageSet.images.length-1,n=Math.ceil(v(0,s,i));this.renderFrame(n)}}renderFrame(t){if(!this.readyPromise.complete)return;this.targetFrame=t;let e=Math.abs(this.targetFrame-this.currentFrame);e>1&&!this.isPlaying&&this.lerpAmount<1?(this.currentFrame=v(this.currentFrame,this.targetFrame,this.lerpAmount),e=Math.abs(this.targetFrame-this.currentFrame),e>=.001&&window.requestAnimationFrame(()=>{this.renderFrame(this.targetFrame)})):this.currentFrame=this.targetFrame;let i=this.activeImageSet.images[Math.round(this.currentFrame)];this.draw(i)}flush(){this.draw(""),this.draw(null)}drawRectangle(t){let e={tl:t.radius,tr:t.radius,br:t.radius,bl:t.radius};this.context.beginPath(),this.context.moveTo(t.left+e.tl,t.top),this.context.lineTo(t.right-e.tr,t.top),this.context.quadraticCurveTo(t.right,t.top,t.right,t.top+e.tr),this.context.lineTo(t.right,t.bottom-e.br),this.context.quadraticCurveTo(t.right,t.bottom,t.right-e.br,t.bottom),this.context.lineTo(t.left+e.bl,t.bottom),this.context.quadraticCurveTo(t.left,t.bottom,t.left,t.bottom-e.bl),this.context.lineTo(t.left,t.top+e.tl),this.context.quadraticCurveTo(t.left,t.top,t.left+e.tl,t.top),this.context.closePath(),this.context.fill()}applyCanvasClipping(){if(this.clipPathType==="inset"){let t=this.clipMultiInterpolate.getCalculations()||{},e=t.top||0,i=t.bottom||0,s=t.left||0,n=t.right||0,r=t["border-radius"]||0;this.drawRectangle({top:this.canvasHeight-(1-e)*this.canvasHeight,left:this.canvasWidth-(1-s)*this.canvasWidth,right:(1-n)*this.canvasWidth,bottom:(1-i)*this.canvasHeight,radius:r}),this.context.clip()}}clear(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight)}async draw(t){if(!t||this.disposed||t===this.lastDrawSource)return;if(this.lastDrawSource=t,!this.fps.canRun()){this.fps.schedule(()=>{this.lastDrawSource=null,this.draw(t)});return}let e=await this.makeImage(t);if(!e)return;let i={width:this.imageNaturalWidth,height:this.imageNaturalHeight},s={width:this.canvasWidth,height:this.canvasHeight};if(this.clear(),St(this.clipPathType)||(this.context.save(),this.applyCanvasClipping()),this.options&&this.options.cover){let n=ei(s,i);this.options&&C(this.options.left)&&(n.xOffset=(s.width-i.width*n.scalar)*-this.options.left),this.options&&C(this.options.right)&&(n.xOffset=-(s.width-i.width*n.scalar),n.xOffset+=(s.width-i.width*n.scalar)*this.options.right),this.options&&C(this.options.bottom)&&(n.yOffset=-(s.height-i.height*n.scalar),n.yOffset+=(s.height-i.height*n.scalar)*this.options.bottom),this.options&&C(this.options.top)&&(n.yOffset=(s.height-i.height*n.scalar)*-this.options.top),this.context.drawImage(e,-n.xOffset>>0,-n.yOffset>>0,i.width*n.scalar>>0,i.height*n.scalar>>0)}else{this.containScale=ii(s,i);let n=(s.width-i.width*this.containScale)/2,r=(s.height-i.height*this.containScale)/2;this.options&&C(this.options.bottom)&&(r=s.height-i.height*this.containScale,this.options.bottomNoClip?r-=(s.height-i.height*this.containScale)*this.options.bottom:r-=s.height*this.options.bottom),this.options&&C(this.options.right)&&(n=s.width-i.width*this.containScale,this.options.rightNoClip?n-=(s.width-i.width*this.containScale)*this.options.right:n-=s.width*this.options.right),this.options&&C(this.options.top)&&(r=0,this.options.topNoClip?r=(s.height-i.height*this.containScale)*this.options.top:r+=this.options.top*s.height),this.options&&C(this.options.left)&&(n=0,this.options.leftNoClip?n=(s.width-i.width*this.containScale)*this.options.left:n+=this.options.left*s.width),this.context.drawImage(e,n>>0,r>>0,i.width*this.containScale>>0,i.height*this.containScale>>0)}St(this.clipPathType)||this.context.restore(),this.lastRenderSource=t}setSizingOptions(t){this.options=t}play(t,e,i){return this.stop(),this.rafTimer=new Re(s=>{let n=ti(s,0,1,t,e);this.renderProgress(n)}),this.rafTimer.setDuration(i),this.playDefer=new N,this.rafTimer.onComplete(()=>{this.isPlaying=!1,this.playDefer.resolve(),this.rafTimer.dispose()}),this.rafTimer.play(),this.isPlaying=!0,this.playDefer.getPromise()}getHexColorAtPoint(t){return j.getColorAtPointAsHex(this.context,t)}stop(){this.rafTimer&&this.rafTimer.pause(),this.rafTimer&&this.rafTimer.dispose(),this.playDefer&&this.playDefer.resolve()}getImageSize(){return{width:this.imageNaturalWidth,height:this.imageNaturalHeight}}dispose(){this.disposed=!0,this.stop(),this.domWatcher.dispose(),this.rafTimer&&this.rafTimer.dispose(),this.blobLoader&&this.blobLoader.dispose(),this.element=null,this.blobCache=null,this.canvasElement=null,dt(this.cacheImage),this.cacheImage=null}};var ji=84,Xi="https://storage.googleapis.com/pgoblog/seasons-light/cosmog-animation/cosmog_{frame}.png",De=class{constructor(t){this.el=t,this.images=[];for(let e=0;e<ji;e++)this.images.push(Xi.replace("{frame}",String(e).padStart(3,"0")));this.imageSequence=new He(this.el,[{images:this.images}]),this.init()}async init(){this.setPosterImage(),window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&(await this.imageSequence.load(),this.removePosterImage(),this.play())}setPosterImage(){let t=this.images[30];this.el.setAttribute("style",`background-image: url(${t})`),this.el.classList.add("poster")}removePosterImage(){this.el.removeAttribute("style"),this.el.classList.remove("poster")}play(){this.imageSequence.play(0,1,2800).then(()=>{this.play()})}};var at={DAY:60*60*24,HOUR:3600,MINUTE:60,SECOND:1},Be=class{constructor(t){this.el=t,this.targetTimestamp=this.getTargetTimestamp(),this.els={days:this.el.querySelector(".days"),hrs:this.el.querySelector(".hrs"),mins:this.el.querySelector(".mins"),secs:this.el.querySelector(".secs")},this.init()}init(){this.update(),window.setInterval(()=>this.update(),1e3)}getTargetTimestamp(){let t=this.el.getAttribute("data-timestamp");if(t)return parseInt(t);let e=this.getTimestamp(),i=this.el.getAttribute("data-remaining");return i?e+parseInt(i):e}update(){let t=Math.max(this.targetTimestamp-this.getTimestamp(),0),e=t,i=this.divideIntegers(e,at.DAY);e-=i*at.DAY;let s=this.divideIntegers(e,at.HOUR);e-=s*at.HOUR;let n=this.divideIntegers(e,at.MINUTE);e-=n*at.MINUTE;let r=e,a={days:this.pad(i,2),hrs:this.pad(s,2),mins:this.pad(n,2),secs:this.pad(r,2)};if(this.updateDom(a),t===0&&this.el.classList.add("countdown-done"),t===0&&this.el.getAttribute("data-reload-at-zero")==="true"){this.reloadPage();return}}reloadPage(){let t=new URL(window.location.href);t.searchParams.set("reloaded","true");let e=t.toString();if(new URLSearchParams(window.location.search||"").get("reloaded")==="true"){let s=Math.floor(Math.random()*1e3+1e3);window.setTimeout(()=>{window.location.href=e},s)}else window.location.href=e}updateDom(t){let e=!0;["days","hrs","mins","secs"].forEach(s=>{let n=this.els[s];if(n){let r=t[s];n.textContent=r,e&&r==="00"?n.parentElement.classList.add("inactive"):e=!1}})}divideIntegers(t,e){return t/e>>0}pad(t,e){let i=t+"";return i.length>=e?i:"0".repeat(e-i.length)+t}getTimestamp(){return this.divideIntegers(new Date().getTime(),1e3)}};var jt="hidden";function Pi(){return window.innerWidth<1024}var We=class{constructor(t){this.domWatcher=new p,this.el=t,this.slidesEl=this.el.querySelector("[slides]"),this.slideEls=Array.from(this.el.querySelectorAll("[slide]")),this.slidesGap=parseInt(getComputedStyle(this.el).getPropertyValue("--carousel-gap"))||0,this.arrowsEl=this.el.querySelector("[arrows]"),this.prevEl=this.el.querySelector("[prev]"),this.nextEl=this.el.querySelector("[next]"),this.scrollEl=this.el.querySelector("[scroll]"),this.index=0,this.slideWidth=0,this.scrollProgress=0,this.disableScroll=!1,this.init()}init(){this.domWatcher.add({element:this.slidesEl,on:"scroll",callback:()=>{this.onScroll(this.slidesEl,this.scrollEl)}}),this.domWatcher.add({element:this.scrollEl,on:"scroll",callback:()=>{this.onScroll(this.scrollEl,this.slidesEl)}}),this.domWatcher.add({element:window,on:"smartResize",callback:()=>this.onWindowResize()}),this.prevEl&&this.domWatcher.add({element:this.prevEl,on:"click",callback:()=>{this.prevSlide()},eventOptions:{passive:!1}}),this.nextEl&&this.domWatcher.add({element:this.nextEl,on:"click",callback:()=>{this.nextSlide()},eventOptions:{passive:!1}}),this.goToSlide(0),this.onWindowResize()}onWindowResize(){this.setCSSVariables(),this.updateSlideWidth(),this.updateScrollVisibility()}setCSSVariables(){let t=this.slidesEl.scrollWidth/this.slidesEl.offsetWidth*100;ai(this.el,{"--carousel-scroll-ratio":`${t}%`})}updateScrollVisibility(){this.slidesEl.scrollWidth>this.slidesEl.clientWidth?(this.scrollEl.style.display="block",this.prevEl&&(this.prevEl.style.display="flex"),this.nextEl&&(this.nextEl.style.display="flex")):(this.scrollEl.style.display="none",this.prevEl&&(this.prevEl.style.display="none"),this.nextEl&&(this.nextEl.style.display="none"))}updateSlideWidth(){let t=this.slideEls[0].getBoundingClientRect();this.slideWidth=t.width,this.slidesGap=parseInt(getComputedStyle(this.el).getPropertyValue("--carousel-gap"))||0}onScroll(t,e){let i=this.disableScroll;if(this.disableScroll=!1,i)return;let s=t.scrollLeft,n=t.scrollWidth-t.clientWidth;this.scrollProgress=s/n;let r=0;for(let a=0;a<this.slideEls.length;a++){let l=this.slideEls[a].offsetLeft-this.slideEls[0].offsetLeft;s>=l&&(r=a)}this.index=r,this.disableScroll=!0,this.syncScroll(e),this.updateControls()}syncScroll(t){let e=t.scrollWidth-t.clientWidth;t.scrollLeft=e*this.scrollProgress}updateControls(){this.scrollProgress<.01?this.prevEl.classList.add(jt):this.prevEl.classList.remove(jt),this.scrollProgress>.99?this.nextEl.classList.add(jt):this.nextEl.classList.remove(jt)}prevSlide(){Pi()?this.scrollProgress>0&&this.goToSlide(this.index>0?this.index-1:0):this.slidesEl.scrollTo({left:this.slidesEl.scrollLeft-this.slidesEl.offsetWidth-this.slidesGap,behavior:"smooth"})}nextSlide(){Pi()?this.scrollProgress<1&&this.goToSlide(this.index<this.slideEls.length?this.index+1:this.slideEls.length):this.slidesEl.scrollTo({left:this.slidesEl.scrollLeft+this.slidesEl.offsetWidth+this.slidesGap,behavior:"smooth"})}goToSlide(t){this.slidesEl.scrollTo({left:this.slideEls[t].offsetLeft-this.slideEls[0].offsetLeft,behavior:"smooth"})}};var Ne=class{constructor(t){this.el=t,this.progressBar=this.el.querySelector(".UltraBeastArrivalChallenge__progressBar"),this.init()}async init(){let t=new IntersectionObserver(n=>{let r=n[0];r&&r.isIntersecting&&(this.progressBar.classList.add("inview"),t.disconnect())});t.observe(this.progressBar);let e=await window.fetch("/api/ultrabeastarrival.referral_challenge"),i=await e.json();if(e.status!==200)throw console.error(i),new Error("failed to fetch challenge results");let s=i.data?.progress;s&&ct(this.el,"--challenge-progress",String(s))}};function lt(){return window.innerWidth<1024}var L=[353,199],A={BERLIN:[163,41],SAPPORO:[336,95],SEATTLE:[26,95],SYDNEY:[304,185],TOKYO:[336,107],YOKOHAMA:[334,108]},M=[1125,352],I={BERLIN:[572,70],SAPPORO:[1033,173],SEATTLE:[99,203],SYDNEY:[951,316],TOKYO:[1031,187],YOKOHAMA:[1029,189]},Fe=class{constructor(t){this.el=t,this.svg=this.el.querySelector(".UltraBeastArrivalMap__map__world__lines"),this.map=this.el.querySelector(".UltraBeastArrivalMap__map__world__image"),this.init()}init(){this.drawPaths();let t=new p,e=Rt(()=>this.drawPaths(),300);t.add({element:window,on:"smartResize",callback:()=>{this.svg.innerHTML="",e()},eventOptions:{passive:!0}})}drawPaths(){let t=[...this.drawBerlin(),...this.drawSeattle(),...this.drawSapporo(),...this.drawSydney(),...this.drawTokyo(),...this.drawYokohama()];this.svg.replaceChildren(...t)}drawBerlin(){let t=[],e=lt(),i=e?".top":".bottom",s=this.el.querySelector(`${i} [data-city="berlin"]`),n=e?A.BERLIN[0]/L[0]:I.BERLIN[0]/M[0],r=e?A.BERLIN[1]/L[1]:I.BERLIN[1]/M[1],a=this.map.offsetLeft+n*this.map.offsetWidth,l=this.map.offsetTop+r*this.map.offsetHeight;return e?t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight},{x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight+24},{x:a,y:s.offsetTop+s.offsetHeight+24},{x:a,y:l})):t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop},{x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop-48},{x:a,y:s.offsetTop-48},{x:a,y:l})),t}drawSapporo(){let t=[],e=lt(),i=e?".top":".bottom",s=this.el.querySelector(`${i} [data-city="sapporo"]`),n=e?A.SAPPORO[0]/L[0]:I.SAPPORO[0]/M[0],r=e?A.SAPPORO[1]/L[1]:I.SAPPORO[1]/M[1],a=this.map.offsetLeft+n*this.map.offsetWidth,l=this.map.offsetTop+r*this.map.offsetHeight;return e?t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight},{x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight+24},{x:a,y:s.offsetTop+s.offsetHeight+24},{x:a,y:l})):t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop},{x:s.offsetLeft+.5*s.offsetWidth,y:l},{x:a,y:l})),t}drawSeattle(){let t=[],e=lt(),i=e?".top":".bottom",s=this.el.querySelector(`${i} [data-city="seattle"]`),n=e?A.SEATTLE[0]/L[0]:I.SEATTLE[0]/M[0],r=e?A.SEATTLE[1]/L[1]:I.SEATTLE[1]/M[1],a=this.map.offsetLeft+n*this.map.offsetWidth,l=this.map.offsetTop+r*this.map.offsetHeight;return e?t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight},{x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight+24},{x:a,y:s.offsetTop+s.offsetHeight+24},{x:a,y:l})):(s.offsetLeft+.5*s.offsetWidth>a?"left":"right")==="left"?t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop},{x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop-48},{x:a,y:s.offsetTop-48},{x:a,y:l})):t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop},{x:s.offsetLeft+.5*s.offsetWidth,y:l},{x:a,y:l})),t}drawSydney(){let t=[],e=lt(),i=e?".top":".bottom",s=this.el.querySelector(`${i} [data-city="sydney"]`),n=e?A.SYDNEY[0]/L[0]:I.SYDNEY[0]/M[0],r=e?A.SYDNEY[1]/L[1]:I.SYDNEY[1]/M[1],a=this.map.offsetLeft+n*this.map.offsetWidth,l=this.map.offsetTop+r*this.map.offsetHeight;return e?t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight},{x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight+24},{x:s.offsetLeft+1.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight+24},{x:s.offsetLeft+1.5*s.offsetWidth,y:l},{x:a,y:l})):t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop},{x:s.offsetLeft+.5*s.offsetWidth,y:l},{x:a,y:l})),t}drawTokyo(){let t=[],e=Array.from(this.el.querySelectorAll('.bottom [data-city="tokyo"]'));for(let c of e){let m=c.offsetTop,g=c.offsetLeft+.5*c.offsetWidth;t.push(this.drawPath({x:g,y:m},{x:g,y:m-24}))}let i=e[0],s=e[e.length-1];t.push(this.drawPath({x:i.offsetLeft+.5*i.offsetWidth,y:i.offsetTop-24},{x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop-24}));let n=lt(),r=n?A.TOKYO[0]/L[0]:I.TOKYO[0]/M[0],a=n?A.TOKYO[1]/L[1]:I.TOKYO[1]/M[1],l=this.map.offsetLeft+r*this.map.offsetWidth,h=this.map.offsetTop+a*this.map.offsetHeight,d=i.offsetLeft+.5*i.offsetWidth+.625*(s.offsetLeft-i.offsetLeft);return t.push(this.drawPath({x:l,y:h},{x:l,y:s.offsetTop-48},{x:d,y:s.offsetTop-48},{x:d,y:s.offsetTop-24})),t}drawYokohama(){let t=[],e=lt(),i=e?".top":".bottom",s=this.el.querySelector(`${i} [data-city="yokohama"]`),n=e?A.YOKOHAMA[0]/L[0]:I.YOKOHAMA[0]/M[0],r=e?A.YOKOHAMA[1]/L[1]:I.YOKOHAMA[1]/M[1],a=this.map.offsetLeft+n*this.map.offsetWidth,l=this.map.offsetTop+r*this.map.offsetHeight;return e?t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop+s.offsetHeight},{x:s.offsetLeft+.5*s.offsetWidth,y:l},{x:a,y:l})):t.push(this.drawPath({x:s.offsetLeft+.5*s.offsetWidth,y:s.offsetTop},{x:s.offsetLeft+.5*s.offsetWidth,y:l},{x:a,y:l})),t}drawPath(t,...e){let i=document.createElementNS("http://www.w3.org/2000/svg","path"),s=[`M ${Xt(t.x)} ${Xt(t.y)}`];for(let n=0;n<e.length;n++){let r=e[n];s.push(`L ${Xt(r.x)} ${Xt(r.y)}`)}return i.setAttribute("d",s.join(" ")),i}};function Xt(o){return+o.toFixed(2)}var ze=class{constructor(t){this.el=t,this.toggle=this.el.querySelector("form.UltraBeastArrivalBattles__cityFaqs__toggle"),this.cities=Array.from(this.el.querySelectorAll(".UltraBeastArrivalBattles__cityFaqs__city")),this.init()}init(){this.toggle.addEventListener("change",t=>{let e=t.target;e&&e.value&&this.setEnabled(e.value)})}setEnabled(t){this.cities.forEach(e=>{e.classList.toggle("active",t===e.getAttribute("data-city"))})}};var Ue=class{constructor(t){this.index=0;this.domWatcher=new p,this.el=t,this.slideEls=Array.from(this.el.querySelectorAll("[slide]")),this.prevEl=this.el.querySelector("[prev]"),this.nextEl=this.el.querySelector("[next]"),this.init()}init(){this.prevEl&&this.domWatcher.add({element:this.prevEl,on:"click",callback:()=>{this.prevSlide()},eventOptions:{passive:!1}}),this.nextEl&&this.domWatcher.add({element:this.nextEl,on:"click",callback:()=>{this.nextSlide()},eventOptions:{passive:!1}}),this.update()}prevSlide(){let t=this.index-1;t<0&&(t=0),this.index=t,this.update()}nextSlide(){let t=this.index+1;t>=this.slideEls.length&&(t=this.slideEls.length-1),this.index=t,this.update()}update(){this.slideEls.forEach((t,e)=>{t.classList.toggle("active",e===this.index)}),this.prevEl&&(this.prevEl.disabled=this.index===0),this.nextEl&&(this.nextEl.disabled=this.index>=this.slideEls.length-1)}};var qe="navMenuOpen";function Ki(){return window.innerWidth>1280}var Ve=class{constructor(t){this.domWatcher=new p,this.el=t,this.toggleEl=this.el.querySelector("[toggle]"),this.isMenuVisible=!1,this.init()}init(){this.toggleEl&&this.domWatcher.add({element:this.toggleEl,on:"click",callback:()=>{this.toggleMenu()},eventOptions:{passive:!1}}),this.domWatcher.add({element:window,on:"smartResize",callback:()=>this.onWindowResize()})}toggleMenu(){document.body.classList.toggle(qe),this.isMenuVisible=!this.isMenuVisible}onWindowResize(){this.isMenuVisible&&(Ki()?document.body.classList.remove(qe):document.body.classList.add(qe))}};function Qi(){Z()&&document.body.classList.add("android"),Q()&&document.body.classList.add("ios")}function Zi(){let o=new Se;o.register("CarouselScroller",We),o.register("CharacterCarousel",Kt),o.register("CosmogAnimation",De),o.register("CountdownTimer",Be),o.register("EventTickets",Me),o.register("FeaturedEvents",Qt),o.register("Gallery",ie),o.register("LatestNews",se),o.register("Navbar",pe),o.register("MultilineEllipsis",ne,{maxLines:2}),o.register("RecentNewsCards",Ie),o.register("RocketCarousel",be),o.register("PosterCarousel",we),o.register("SeasonOfLightPopout",Ce),o.register("ScrollXState",ve),o.register("SingleColumnCarousel",Ue),o.register("StickyScrollTabs",Ee),o.register("StickyState",Et),o.register("TabList",ye),o.register("UltraBeastArrivalChallenge",Ne),o.register("UltraBeastArrivalMap",Fe),o.register("UltraBeastArrivalFAQs",ze),o.register("UpcomingEvents",Te),o.register("GoTourHeader",Ve),o.start(),Qi(),new URLSearchParams(window.location.search).get("grid")==="true"&&Ri(),document.addEventListener("keydown",e=>{e.ctrlKey&&e.key==="g"&&Ji()}),window.youtubeModal||(window.youtubeModal=new Ae({namespace:"youtube-modal",useHandlerOnMobile:!1})),setTimeout(()=>{document.documentElement.style.scrollBehavior="smooth"},1e3),es(),ss()}function Ji(){let o=document.querySelector(".grid-overlay");o?ts(o):Ri()}function Ri(){let o=document.createElement("div");o.classList.add("grid-overlay");let t=document.createElement("div");t.classList.add("grid");for(let e=0;e<12;e++){let i=document.createElement("div");i.classList.add("grid__col"),i.textContent=String(e+1),t.appendChild(i)}o.appendChild(t),document.body.appendChild(o),document.body.setAttribute("grid-overlay","true")}function ts(o){o.parentNode.removeChild(o),document.body.removeAttribute("grid-overlay")}function es(){let o=(document.documentElement.lang||"en").replace("_","-");Array.from(document.querySelectorAll("a[href]")).forEach(e=>{let i=e.href;if(i&&i.startsWith("https://niantic.helpshift.com/")){let s=new URL(i);s.searchParams.set("l",o),e.href=s.toString()}})}function is(){try{return window.self!==window.top}catch(o){return!0}}function ss(){if(is()){let o="_scrolly",t=sessionStorage.getItem(o);if(t){let e=document.documentElement;e.style.scrollBehavior="auto",window.scrollTo({top:window.parseInt(t)}),setTimeout(()=>{e.style.removeProperty("scroll-behavior")})}window.addEventListener("beforeunload",()=>{sessionStorage.setItem(o,String(window.scrollY))})}}Zi();export{Zi as main};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
